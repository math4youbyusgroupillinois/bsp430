<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>BSP430: include/bsp430/periph/flash.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20141115</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_62ed61ea3473d085a8b2bf70053df4f0.html">include</a></li><li class="navelem"><a class="el" href="dir_7c92f3a74acfd272e55b8e8273858819.html">bsp430</a></li><li class="navelem"><a class="el" href="dir_19e4f19d9de152fbe2728cd5df77a8c2.html">periph</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">flash.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware presentation/abstraction for flash memory peripheral (FLASH).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="periph_8h_source.html">bsp430/periph.h</a>&gt;</code><br />
</div>
<p><a href="flash_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a33b38079f23cf7d4cac8e6f4aa902ec0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8h.html#a33b38079f23cf7d4cac8e6f4aa902ec0">BSP430_MODULE_FLASH</a>&#160;&#160;&#160;(defined(__MSP430_HAS_FLASH__) || defined(__MSP430_HAS_FLASH2__))</td></tr>
<tr class="separator:a33b38079f23cf7d4cac8e6f4aa902ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a94c76cef12d30a8fb476cb7664338285"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8h.html#a94c76cef12d30a8fb476cb7664338285">iBSP430flashEraseSegment_ni</a> (const void *addr)</td></tr>
<tr class="separator:a94c76cef12d30a8fb476cb7664338285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8561ad078b62fd3ceadabbe69421d5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8h.html#ae8561ad078b62fd3ceadabbe69421d5a">iBSP430flashWriteData_ni</a> (void *dest, const void *src, size_t len)</td></tr>
<tr class="separator:ae8561ad078b62fd3ceadabbe69421d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Hardware presentation/abstraction for flash memory peripheral (FLASH). </p>
<p>A flash memory peripherals is available on almost every MSP430 MCU, and may be identified as either FLASH or FLASH2. Different MCUs in the same family are one or the other. The differences between these peripherals are visible in the interface provided by this module.</p>
<h1><a class="anchor" id="h_periph_flash_opt"></a>
Module Configuration Options</h1>
<p>None supported.</p>
<h1><a class="anchor" id="h_periph_flash_hpl"></a>
Hardware Presentation Layer</h1>
<p>As there can be only one instance of the flash memory peripheral on any MCU, there is no structure supporting a FLASH <a class="el" href="layer.html#HPL">HPL</a>. Manipulate the peripheral through its registers directly.</p>
<h1><a class="anchor" id="h_periph_flash_hal"></a>
Hardware Adaptation Layer</h1>
<p>As there can be only one instance of FLASH on any MCU, there is no structure supporting a FLASH <a class="el" href="layer.html#HAL">HAL</a>.</p>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012-2014, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a33b38079f23cf7d4cac8e6f4aa902ec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_MODULE_FLASH&#160;&#160;&#160;(defined(__MSP430_HAS_FLASH__) || defined(__MSP430_HAS_FLASH2__))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined on inclusion of &lt;<a class="el" href="flash_8h.html" title="Hardware presentation/abstraction for flash memory peripheral (FLASH). ">bsp430/periph/flash.h</a>&gt;. The value evaluates to true if the target MCU supports the Flash Memory module, and false if it does not.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a94c76cef12d30a8fb476cb7664338285"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iBSP430flashEraseSegment_ni </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erase the flash segment holding the given address</p>
<p>The MSP430 flash segment erase function is invoked.</p>
<dl class="section note"><dt>Note</dt><dd>This function is not responsible for managing either <a class="el" href="msp430_8h.html#a9f5c34e700abf075b1a6f7a0558b44aa">LOCKA</a> or <a class="el" href="msp430_8h.html#a63c1feb96e8e23b66c4b952415e64486">LOCKINFO</a>. If you wish to erase or modify information memory segment A, you will have to clear <a class="el" href="msp430_8h.html#a9f5c34e700abf075b1a6f7a0558b44aa">LOCKA</a>. Similarly if you have set <a class="el" href="msp430_8h.html#a63c1feb96e8e23b66c4b952415e64486">LOCKINFO</a> and wish to modify any information memory segment, you will have to do so yourself.</dd>
<dd>
This function does not disable the watchdog, but does reset it prior to invoking the erase operation. If the duration of the erase operation exceeds the watchdog timeout, the board may reset.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>an address within the segment to be erased</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the erase was successful, or a negative error code. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc3000_2cli_2main_8c-example.html#a18">rf/cc3000/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae8561ad078b62fd3ceadabbe69421d5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iBSP430flashWriteData_ni </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy data into flash memory</p>
<p>Rather like <code>memcpy()</code>, but the destination is assumed to be in a flash memory segment. The write must not cross a segment boundary.</p>
<dl class="section note"><dt>Note</dt><dd>This function is not responsible for managing either <a class="el" href="msp430_8h.html#a9f5c34e700abf075b1a6f7a0558b44aa">LOCKA</a> or <a class="el" href="msp430_8h.html#a63c1feb96e8e23b66c4b952415e64486">LOCKINFO</a>. If you wish to erase or modify information memory segment A, you will have to clear <a class="el" href="msp430_8h.html#a9f5c34e700abf075b1a6f7a0558b44aa">LOCKA</a>. Similarly if you have set <a class="el" href="msp430_8h.html#a63c1feb96e8e23b66c4b952415e64486">LOCKINFO</a> and wish to modify any information memory segment, you will have to do so yourself.</dd>
<dd>
This function does not disable the watchdog, but does reset it prior to copying the data. If the duration of the write operation exceeds the watchdog timeout, the board may reset.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>an address in a flash segment. The region into which the data will be written must have already been erased.</td></tr>
    <tr><td class="paramname">src</td><td>the address of the data to be copied into flash</td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to be copied</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes successfully copied, or a negative error code. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc3000_2cli_2main_8c-example.html#a22">rf/cc3000/cli/main.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 15 2014 11:27:13 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
