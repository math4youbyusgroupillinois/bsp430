<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>BSP430: include/bsp430/serial.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20141115</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_62ed61ea3473d085a8b2bf70053df4f0.html">include</a></li><li class="navelem"><a class="el" href="dir_7c92f3a74acfd272e55b8e8273858819.html">bsp430</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">serial.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Declarations for abstracted serial interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="core_8h_source.html">bsp430/core.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="periph_8h_source.html">bsp430/periph.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="serial___8h_source.html">bsp430/serial_.h</a>&gt;</code><br />
</div>
<p><a href="serial_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a48ab4e1dd9be66a4c36e749ff3f26cd7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a48ab4e1dd9be66a4c36e749ff3f26cd7">configBSP430_SERIAL_USE_USCI</a>&#160;&#160;&#160;defined(__MSP430_HAS_USCI__)</td></tr>
<tr class="separator:a48ab4e1dd9be66a4c36e749ff3f26cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf14206f9d5a943f6feeaaf31b646ecc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#abf14206f9d5a943f6feeaaf31b646ecc">configBSP430_SERIAL_USE_USCI5</a>&#160;&#160;&#160;defined(__MSP430_HAS_USCI_A0__)</td></tr>
<tr class="separator:abf14206f9d5a943f6feeaaf31b646ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1048e989a7051a7aee88c46ef67b279"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#af1048e989a7051a7aee88c46ef67b279">configBSP430_SERIAL_USE_EUSCI</a>&#160;&#160;&#160;(defined(__MSP430_HAS_EUSCI_A0__) || defined(__MSP430_HAS_EUSCI_B0__))</td></tr>
<tr class="separator:af1048e989a7051a7aee88c46ef67b279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae603188bfe14e0dcb7847f65ad57331d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ae603188bfe14e0dcb7847f65ad57331d">configBSP430_SERIAL_ENABLE_UART</a>&#160;&#160;&#160;(<a class="el" href="console_8h.html#a7e7be9a93cd9726e38378c1736d3b239">configBSP430_CONSOLE</a> - 0)</td></tr>
<tr class="separator:ae603188bfe14e0dcb7847f65ad57331d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f6bef8cddedeea579d8e15e4045ee5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a23f6bef8cddedeea579d8e15e4045ee5">configBSP430_SERIAL_ENABLE_SPI</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a23f6bef8cddedeea579d8e15e4045ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923ef219777a585b737647ad335ff25a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a923ef219777a585b737647ad335ff25a">BSP430_SERIAL_SPI_BUS_SPEED_HZ</a>&#160;&#160;&#160;4000000UL</td></tr>
<tr class="separator:a923ef219777a585b737647ad335ff25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e915aa21bdaf7e259a6ac99157a644"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a19e915aa21bdaf7e259a6ac99157a644">configBSP430_SERIAL_ENABLE_I2C</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a19e915aa21bdaf7e259a6ac99157a644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a04e22fd8e383a4986dcea9b58eec52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a1a04e22fd8e383a4986dcea9b58eec52">BSP430_SERIAL_I2C_BUS_SPEED_HZ</a>&#160;&#160;&#160;400000UL</td></tr>
<tr class="separator:a1a04e22fd8e383a4986dcea9b58eec52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34692b8a5e5a11a401030db5d9a6dd19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a34692b8a5e5a11a401030db5d9a6dd19">BSP430_SERIAL</a></td></tr>
<tr class="separator:a34692b8a5e5a11a401030db5d9a6dd19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cdc2d11d71d5fd97b96f427c239cb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a84cdc2d11d71d5fd97b96f427c239cb9">BSP430_SERIAL_ADJUST_CTL0_INITIALIZER</a>(_i)&#160;&#160;&#160;(((_i) &gt;= 0x100) ? ((_i) &gt;&gt; 8) : (_i))</td></tr>
<tr class="separator:a84cdc2d11d71d5fd97b96f427c239cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca8418ee9fc3dd593f214b1c5fd596e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#acca8418ee9fc3dd593f214b1c5fd596e">BSP430_I2C_SPIN_LIMIT</a>&#160;&#160;&#160;65536</td></tr>
<tr class="separator:acca8418ee9fc3dd593f214b1c5fd596e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f0404574a7b85a2b0e9388d696331c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a06f0404574a7b85a2b0e9388d696331c">BSP430_I2C_ERRFLAG_PROTOCOL</a>&#160;&#160;&#160;0x4000</td></tr>
<tr class="separator:a06f0404574a7b85a2b0e9388d696331c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5440f59c28e6491b153f6603032dfb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ac5440f59c28e6491b153f6603032dfb5">BSP430_I2C_ERRFLAG_SPINLIMIT</a>&#160;&#160;&#160;0x2000</td></tr>
<tr class="separator:ac5440f59c28e6491b153f6603032dfb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a55ba4b6d332a2ea1a0c0c077b169bacc"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a55ba4b6d332a2ea1a0c0c077b169bacc">uiBSP430serialSMCLKPrescaler</a> (unsigned long freq_Hz)</td></tr>
<tr class="separator:a55ba4b6d332a2ea1a0c0c077b169bacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f608fdca583bd1c68b1eb2617426e5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a32f608fdca583bd1c68b1eb2617426e5">hBSP430serialOpenUART</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, unsigned char ctl0_byte, unsigned char ctl1_byte, unsigned long baud)</td></tr>
<tr class="separator:a32f608fdca583bd1c68b1eb2617426e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c950b026740966baf8a721006fda3d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ad7c950b026740966baf8a721006fda3d">iBSP430uartRxByte_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal)</td></tr>
<tr class="separator:ad7c950b026740966baf8a721006fda3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2540683d6077a9cf7f513e2c2cc9f3c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ae2540683d6077a9cf7f513e2c2cc9f3c">iBSP430uartTxByte_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, uint8_t c)</td></tr>
<tr class="separator:ae2540683d6077a9cf7f513e2c2cc9f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d367fe186c2f43efe6cd454a64c6ad"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a98d367fe186c2f43efe6cd454a64c6ad">iBSP430uartTxData_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, const uint8_t *data, size_t len)</td></tr>
<tr class="separator:a98d367fe186c2f43efe6cd454a64c6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372fb5af57029d237ebb5e03e8aec693"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a372fb5af57029d237ebb5e03e8aec693">iBSP430uartTxASCIIZ_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, const char *str)</td></tr>
<tr class="separator:a372fb5af57029d237ebb5e03e8aec693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40983f5ed625fd352698117786691dd5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a40983f5ed625fd352698117786691dd5">hBSP430serialOpenSPI</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, unsigned char ctl0_byte, unsigned char ctl1_byte, unsigned int prescaler)</td></tr>
<tr class="separator:a40983f5ed625fd352698117786691dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7646c9d6044dcc9729b72cf9e559fa55"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a7646c9d6044dcc9729b72cf9e559fa55">iBSP430spiTxRx_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, const uint8_t *tx_data, size_t tx_len, size_t rx_len, uint8_t *rx_data)</td></tr>
<tr class="separator:a7646c9d6044dcc9729b72cf9e559fa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85fb70e450164721994aad656c24d6a0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a85fb70e450164721994aad656c24d6a0">hBSP430serialOpenI2C</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, unsigned char ctl0_byte, unsigned char ctl1_byte, unsigned int prescaler)</td></tr>
<tr class="separator:a85fb70e450164721994aad656c24d6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cda50d2715c90420e1ca71f8f031990"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a7cda50d2715c90420e1ca71f8f031990">iBSP430i2cSetAddresses_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, int own_address, int slave_address)</td></tr>
<tr class="separator:a7cda50d2715c90420e1ca71f8f031990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350ce4630411d82ba30cc75e0fbcd086"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a350ce4630411d82ba30cc75e0fbcd086">iBSP430i2cTxData_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, const uint8_t *tx_data, size_t tx_len)</td></tr>
<tr class="separator:a350ce4630411d82ba30cc75e0fbcd086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d2c47baecbccbdcb631dd314709b85"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a51d2c47baecbccbdcb631dd314709b85">iBSP430i2cRxData_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, uint8_t *rx_data, size_t rx_len)</td></tr>
<tr class="separator:a51d2c47baecbccbdcb631dd314709b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ac902c27a87bdb9e8332a66d99faa5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a95ac902c27a87bdb9e8332a66d99faa5">iBSP430serialSetReset_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, int resetp)</td></tr>
<tr class="separator:a95ac902c27a87bdb9e8332a66d99faa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66c4d624b7a266eed7d846af64ab5cb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ab66c4d624b7a266eed7d846af64ab5cb">iBSP430serialSetHold_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal, int holdp)</td></tr>
<tr class="separator:ab66c4d624b7a266eed7d846af64ab5cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef360a3a47ffaef50409a14fbffe5d2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a9ef360a3a47ffaef50409a14fbffe5d2">iBSP430serialClose</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal)</td></tr>
<tr class="separator:a9ef360a3a47ffaef50409a14fbffe5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94651c6368443f4040227961d765b1f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ab94651c6368443f4040227961d765b1f">vBSP430serialWakeupTransmit_rh</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal)</td></tr>
<tr class="separator:ab94651c6368443f4040227961d765b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0eb5394c5af668e42fdf0ef8a7941ec"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ad0eb5394c5af668e42fdf0ef8a7941ec">vBSP430serialFlush_ni</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal)</td></tr>
<tr class="separator:ad0eb5394c5af668e42fdf0ef8a7941ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998a5fc2148de55d12ecc39e13bc9d5e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a998a5fc2148de55d12ecc39e13bc9d5e">ulBSP430serialRate</a> (<a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hal)</td></tr>
<tr class="separator:a998a5fc2148de55d12ecc39e13bc9d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad311104b2da6d177b2ae5ec0b29e7207"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#ad311104b2da6d177b2ae5ec0b29e7207">hBSP430serialLookup</a> (<a class="el" href="periph_8h.html#a6a1c6c4a24d03d6306bf32f8dbde05a9">tBSP430periphHandle</a> periph)</td></tr>
<tr class="separator:ad311104b2da6d177b2ae5ec0b29e7207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2e6f39abd1faca343663917e34840a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial_8h.html#a7f2e6f39abd1faca343663917e34840a">xBSP430serialName</a> (<a class="el" href="periph_8h.html#a6a1c6c4a24d03d6306bf32f8dbde05a9">tBSP430periphHandle</a> periph)</td></tr>
<tr class="separator:a7f2e6f39abd1faca343663917e34840a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Declarations for abstracted serial interface. </p>
<p>The MSP430 line has a variety of peripherals that support serial communications, including the origin 2xx/4xx family USCI, 5xx USCI, and 5xx eUSCI. These are sufficiently similar in function that it is useful to have a hardware abstraction layer that delegates to the peripherals available on the current platform.</p>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012-2014, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a06f0404574a7b85a2b0e9388d696331c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_I2C_ERRFLAG_PROTOCOL&#160;&#160;&#160;0x4000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit set in absolute value of I2C error codes to indicate a protocol error.</p>
<p>I2C error codes are negative values. The absolute value may encode information on the cause of an error.</p>
<p>If <a class="el" href="serial_8h.html#a06f0404574a7b85a2b0e9388d696331c">BSP430_I2C_ERRFLAG_PROTOCOL</a> is set in the absolute value, the low 8 bits encode peripheral-specific error data, taken from (for example) UCBxIFG. Generally protocol errors include receipt of a NACK or loss of arbitration.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="serial_8h.html#ac5440f59c28e6491b153f6603032dfb5">BSP430_I2C_ERRFLAG_SPINLIMIT</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac5440f59c28e6491b153f6603032dfb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_I2C_ERRFLAG_SPINLIMIT&#160;&#160;&#160;0x2000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit set in absolute value of I2C error codes to indicate spin limit exceeded.</p>
<p>I2C error codes are negative values. The absolute value may encode information on the cause of an error.</p>
<p>If <a class="el" href="serial_8h.html#ac5440f59c28e6491b153f6603032dfb5">BSP430_I2C_ERRFLAG_SPINLIMIT</a> is set in the absolute value then a loop awaiting an expected condition executed for <a class="el" href="serial_8h.html#acca8418ee9fc3dd593f214b1c5fd596e">BSP430_I2C_SPIN_LIMIT</a> times without detecting the desired condition. The I2C operation aborts immediately, but no restorative action is taken by the infrastructure.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="serial_8h.html#a06f0404574a7b85a2b0e9388d696331c">BSP430_I2C_ERRFLAG_PROTOCOL</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acca8418ee9fc3dd593f214b1c5fd596e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_I2C_SPIN_LIMIT&#160;&#160;&#160;65536</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Control the duration of I2C loops waiting for bus conditions.</p>
<p>A positive value enables a loop limit; the number of loops attempted ranges from 1 to 65536. A zero or negative value disables the loop limit.</p>
<dl class="section note"><dt>Note</dt><dd>A positive value that is equal to zero modulo 2^16 will result in the maximum iteration count of 2^16.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a34692b8a5e5a11a401030db5d9a6dd19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_SERIAL</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((<a class="code" href="serial_8h.html#ae603188bfe14e0dcb7847f65ad57331d">configBSP430_SERIAL_ENABLE_UART</a> - 0)        \</div>
<div class="line">   || (<a class="code" href="serial_8h.html#a23f6bef8cddedeea579d8e15e4045ee5">configBSP430_SERIAL_ENABLE_SPI</a> - 0)      \</div>
<div class="line">   || (<a class="code" href="serial_8h.html#a19e915aa21bdaf7e259a6ac99157a644">configBSP430_SERIAL_ENABLE_I2C</a> - 0))</div>
<div class="ttc" id="serial_8h_html_a19e915aa21bdaf7e259a6ac99157a644"><div class="ttname"><a href="serial_8h.html#a19e915aa21bdaf7e259a6ac99157a644">configBSP430_SERIAL_ENABLE_I2C</a></div><div class="ttdeci">#define configBSP430_SERIAL_ENABLE_I2C</div><div class="ttdef"><b>Definition:</b> serial.h:150</div></div>
<div class="ttc" id="serial_8h_html_a23f6bef8cddedeea579d8e15e4045ee5"><div class="ttname"><a href="serial_8h.html#a23f6bef8cddedeea579d8e15e4045ee5">configBSP430_SERIAL_ENABLE_SPI</a></div><div class="ttdeci">#define configBSP430_SERIAL_ENABLE_SPI</div><div class="ttdef"><b>Definition:</b> serial.h:119</div></div>
<div class="ttc" id="serial_8h_html_ae603188bfe14e0dcb7847f65ad57331d"><div class="ttname"><a href="serial_8h.html#ae603188bfe14e0dcb7847f65ad57331d">configBSP430_SERIAL_ENABLE_UART</a></div><div class="ttdeci">#define configBSP430_SERIAL_ENABLE_UART</div><div class="ttdef"><b>Definition:</b> serial.h:104</div></div>
</div><!-- fragment --><p>Defined by the infrastructure to a true expression in the case where at least one protocol is to be supported by the serial abstraction. If it evaluates to false, the serial abstraction will be absent from the compiled infrastructure code.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>

</div>
</div>
<a class="anchor" id="a84cdc2d11d71d5fd97b96f427c239cb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_SERIAL_ADJUST_CTL0_INITIALIZER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_i</td><td>)</td>
          <td>&#160;&#160;&#160;(((_i) &gt;= 0x100) ? ((_i) &gt;&gt; 8) : (_i))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When the underlying implementation is an EUSCI device (as on FR5xx chips), the header defines used to construct the value <code>ctl0_byte</code> are specified for a 16-bit access. The ctl0 byte is the upper byte of the ctlw0 word that comprises <em>ctl0</em> and <em>ctl1</em> on these MCUs. On those devices you must use the <code>_H</code> suffix to select the high-byte version of these constants or divide your configured value by 256 to place it in the low byte of the argument. This applies to configuration values <a class="el" href="msp430_8h.html#a7fb6b3fbbb7fd56c8f11792ffb3e3d6c">UCPEN</a>, <a class="el" href="msp430_8h.html#a05da44320219dcbc56214c9fd424a219">UCPAR</a>, <a class="el" href="msp430_8h.html#a199ca0dc5cd21e551af5c23d9beec934">UCMSB</a>, <a class="el" href="msp430_8h.html#ad69178fe7f891cc7fa438e804cbf92a4">UC7BIT</a>, <a class="el" href="msp430_8h.html#a17059906b161d93c430b7ee875e0f356">UCSPB</a>, <a class="el" href="msp430_8h.html#a51ab25e3e65cd1bb9863b0e6d0b7b6bd">UCCKPH</a>, <a class="el" href="msp430_8h.html#ab4313a6c37c97ba5cdba16c4ca56b517">UCCKPL</a>, <a class="el" href="msp430_8h.html#a83010f7d75e7283b79244ce5a4fa7870">UCMST</a>, and <a class="el" href="msp430_8h.html#a2f02e983d228152bb8491fb6cb0f1228">UCMODE_0</a> or <a class="el" href="msp430_8h.html#a207fbbe8ef93ccdd9774348ba0794b08">UCMODE_1</a> or <a class="el" href="msp430_8h.html#a57df40fcf2c24a4605e30a900d2b239e">UCMODE_2</a>, and perhaps others.</p>
<p>Given a <code>ctl0_byte</code> expression comprised of these constants, this macro will adjust it for you when the value appears to be outside the expected range (i.e., greater than <code>0xFF</code>) and will leave the values alone when it is not, so you can use the standard header constant names without having to worry about the underlying implementation. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a29">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2tmp102_2main_8c-example.html#a9">sensors/tmp102/main.c</a>, and <a class="el" href="utility_2m25p_2main_8c-example.html#a38">utility/m25p/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a1a04e22fd8e383a4986dcea9b58eec52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_SERIAL_I2C_BUS_SPEED_HZ&#160;&#160;&#160;400000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default speed for I2C bus transactions when application does not specify divisor.</p>
<p>This is referenced by <a class="el" href="serial_8h.html#a85fb70e450164721994aad656c24d6a0">hBSP430serialOpenI2C()</a> when the <code>prescaler</code> parameter is zero.</p>
<p>As most I2C devices accept the V1.0 specification maximum, the default value should be 400kHz.</p>
<dl class="section warning"><dt>Warning</dt><dd>The maximum speed is specified in the MCU data sheet; e.g. the MSP430F5438A will go up to 400 kHz. Higher speeds may result in anomalous clocks and unreliable behavior.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a22">sensors/hh10d/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a923ef219777a585b737647ad335ff25a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_SERIAL_SPI_BUS_SPEED_HZ&#160;&#160;&#160;4000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default speed for SPI bus transactions when application does not specify divisor.</p>
<p>This is referenced by <a class="el" href="serial_8h.html#a40983f5ed625fd352698117786691dd5">hBSP430serialOpenSPI()</a> when the <code>prescaler</code> parameter is zero.</p>
<p>SPI flash can often work at 20MHz; the ChipCon radios are good to 6MHz generally. The default will be 4MHz although there are chips that will not operate at that speed (e.g., the CMA3000 accelerometer).</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a19e915aa21bdaf7e259a6ac99157a644"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_SERIAL_ENABLE_I2C&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to allow the general serial layer to recognize and dispatch I2C-related functions. If left false, I2C-related functions will not be added to the serial abstraction dispatch table.</p>
<dl class="section note"><dt>Note</dt><dd>This flag does not control the availabilty of I2C-related functions within the peripheral implementation, only access to them through the serial abstraction.</dd></dl>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a23f6bef8cddedeea579d8e15e4045ee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_SERIAL_ENABLE_SPI&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to allow the general serial layer to recognize and dispatch SPI-related functions. If left false, SPI-related functions will not be added to the serial abstraction dispatch table.</p>
<dl class="section note"><dt>Note</dt><dd>This flag does not control the availabilty of SPI-related functions within the peripheral implementation, only access to them through the serial abstraction.</dd></dl>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="ae603188bfe14e0dcb7847f65ad57331d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_SERIAL_ENABLE_UART&#160;&#160;&#160;(<a class="el" href="console_8h.html#a7e7be9a93cd9726e38378c1736d3b239">configBSP430_CONSOLE</a> - 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to allow the general serial layer to recognize and dispatch UART-related functions. If left false, UART-related functions will not be added to the serial abstraction dispatch table.</p>
<dl class="section note"><dt>Note</dt><dd>This flag does not control the availabilty of UART-related functions within the peripheral implementation, only access to them through the serial abstraction.</dd></dl>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="af1048e989a7051a7aee88c46ef67b279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_SERIAL_USE_EUSCI&#160;&#160;&#160;(defined(__MSP430_HAS_EUSCI_A0__) || defined(__MSP430_HAS_EUSCI_B0__))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to true value to allow the generic serial dispatches to recognize <a class="el" href="structsBSP430hplEUSCIA.html">sBSP430hplEUSCIA</a> and <a class="el" href="structsBSP430hplEUSCIB.html">sBSP430hplEUSCIB</a> as underlying serial implementation. This defaults to true iff the MCU supports the eUSCI device as implemented on 5xx MCUs.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a48ab4e1dd9be66a4c36e749ff3f26cd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_SERIAL_USE_USCI&#160;&#160;&#160;defined(__MSP430_HAS_USCI__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to true value to allow the generic serial dispatches to recognize <a class="el" href="structsBSP430hplUSCI.html">sBSP430hplUSCI</a> as an underlying serial implementation. This defaults to true iff the MCU supports the USCI device as implemented on 2xx/4xx MCUs.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="abf14206f9d5a943f6feeaaf31b646ecc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_SERIAL_USE_USCI5&#160;&#160;&#160;defined(__MSP430_HAS_USCI_A0__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to true value to allow the generic serial dispatches to recognize <a class="el" href="structsBSP430hplUSCI5.html">sBSP430hplUSCI5</a> as an underlying serial implementation. This defaults to true iff the MCU supports the USCI device as implemented on 5xx MCUs.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad311104b2da6d177b2ae5ec0b29e7207"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hBSP430serialLookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="periph_8h.html#a6a1c6c4a24d03d6306bf32f8dbde05a9">tBSP430periphHandle</a>&#160;</td>
          <td class="paramname"><em>periph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the HAL handle for a specific serial peripheral.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">periph</td><td>The handle identifier, such as <a class="el" href="usci_8h.html#a1b58de18238a07a1a9730e64a379613e">BSP430_PERIPH_USCI_A0</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the HAL handle for the peripheral. A null pointer is returned if the handle does not correspond to a serial peripheral for which the HAL interface has been enabled. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc110x_2main_8c-example.html#a10">rf/cc110x/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a4">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2tmp102_2main_8c-example.html#a1">sensors/tmp102/main.c</a>, and <a class="el" href="utility_2m25p_2main_8c-example.html#a27">utility/m25p/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a85fb70e450164721994aad656c24d6a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hBSP430serialOpenI2C </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ctl0_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ctl1_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>prescaler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request and configure a serial device in I2C mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the handle for the HAL interface for the serial device to be configured. These are found from the peripheral handle using <a class="el" href="serial_8h.html#ad311104b2da6d177b2ae5ec0b29e7207">hBSP430serialLookup()</a>.</td></tr>
    <tr><td class="paramname">ctl0_byte</td><td>The configuration to be written to the device's ctl0 byte. For I2C mode, potential values specified in the &lt;<a class="el" href="msp430_8h.html" title="Stripped <msp430.h> header supporting Doxygen links. ">msp430.h</a>&gt; header include <a class="el" href="msp430_8h.html#a7aaa4e5d0a84cda0e759fe84dc059a75">UCA10</a>, <a class="el" href="msp430_8h.html#a6eb866cf9b13ba1891a0184afa7ca19b">UCSLA10</a>, <a class="el" href="msp430_8h.html#a678176f3eb3226c0bb5bd5812e553b07">UCMM</a>, and <a class="el" href="msp430_8h.html#a83010f7d75e7283b79244ce5a4fa7870">UCMST</a> (but <b>see the warning above</b>). The UCSYNC field is cleared and the UCMODE field is configured for I2C before being written.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>See <a class="el" href="serial_8h.html#a84cdc2d11d71d5fd97b96f427c239cb9">BSP430_SERIAL_ADJUST_CTL0_INITIALIZER()</a> regarding portable use of <code>ctl0_byte</code> header constants.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctl1_byte</td><td>The configuration to be written to the device's ctl1 byte. For I2C mode, potential values specified in the &lt;<a class="el" href="msp430_8h.html" title="Stripped <msp430.h> header supporting Doxygen links. ">msp430.h</a>&gt; header are configuration of the clock (<a class="el" href="msp430_8h.html#afc67af00f443bcf35e6864137fc64056">UCSSEL_0</a>, <a class="el" href="msp430_8h.html#a73c578a990628e924d98da6dffaf0629">UCSSEL_1</a>, <a class="el" href="msp430_8h.html#a1d80b08053e2c8dcad61e17d520da303">UCSSEL_2</a>, or <a class="el" href="msp430_8h.html#ae659974d98f91adde08c264fe5fa8165">UCSSEL_3</a>) and perhaps <a class="el" href="msp430_8h.html#a311c1dc057c97e3b6e6e8fafaa82ffcd">UCTR</a>. The <a class="el" href="msp430_8h.html#a5ed16d537b5b0bc2315389cea834a1a0">UCSWRST</a> field is controlled by the function. If <code>prescaler</code> is zero, the clock configuration in this will be overridden to select SMCLK.</td></tr>
    <tr><td class="paramname">prescaler</td><td>The value by which the clock selected in <code>ctl1_byte</code> is divided to produce the I2C clock. A value of zero will select the minimum of 1 and ceil(<a class="el" href="clock_8h.html#aae393938e85c471bb779ca0d5baa705f">ulBSP430clockSMCLK_Hz()</a>/<a class="el" href="serial_8h.html#a1a04e22fd8e383a4986dcea9b58eec52">BSP430_SERIAL_I2C_BUS_SPEED_HZ</a>), resulting in the highest speed that does not exceed <a class="el" href="serial_8h.html#a1a04e22fd8e383a4986dcea9b58eec52">BSP430_SERIAL_I2C_BUS_SPEED_HZ</a>. Use of this feature will override the clock selection in <code>ctl1_byte</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A peripheral-specific HAL handle if the allocation and configuration is successful, and a null handle if something went wrong (e.g., absence of the requested peripheral or a zero-valued <code>prescaler</code>). </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a28">sensors/hh10d/main.c</a>, and <a class="el" href="sensors_2tmp102_2main_8c-example.html#a8">sensors/tmp102/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a40983f5ed625fd352698117786691dd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hBSP430serialOpenSPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ctl0_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ctl1_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>prescaler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request and configure a serial device in SPI mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the handle for the HAL interface for the serial device to be configured. These are found from the peripheral handle using <a class="el" href="serial_8h.html#ad311104b2da6d177b2ae5ec0b29e7207">hBSP430serialLookup()</a>.</td></tr>
    <tr><td class="paramname">ctl0_byte</td><td>The configuration to be written to the device's ctl0 byte. For SPI mode, potential values specified in the &lt;<a class="el" href="msp430_8h.html" title="Stripped <msp430.h> header supporting Doxygen links. ">msp430.h</a>&gt; header include <a class="el" href="msp430_8h.html#a51ab25e3e65cd1bb9863b0e6d0b7b6bd">UCCKPH</a>, <a class="el" href="msp430_8h.html#ab4313a6c37c97ba5cdba16c4ca56b517">UCCKPL</a>, <a class="el" href="msp430_8h.html#a199ca0dc5cd21e551af5c23d9beec934">UCMSB</a>, <a class="el" href="msp430_8h.html#ad69178fe7f891cc7fa438e804cbf92a4">UC7BIT</a>, <a class="el" href="msp430_8h.html#a83010f7d75e7283b79244ce5a4fa7870">UCMST</a>, and <a class="el" href="msp430_8h.html#a2f02e983d228152bb8491fb6cb0f1228">UCMODE_0</a> or <a class="el" href="msp430_8h.html#a207fbbe8ef93ccdd9774348ba0794b08">UCMODE_1</a> or <a class="el" href="msp430_8h.html#a57df40fcf2c24a4605e30a900d2b239e">UCMODE_2</a>. The UCSYNC field is cleared before being written. Selection of <a class="el" href="msp430_8h.html#a760c41f322f6e332a3bf8c5a269e1837">UCMODE_3</a> (I2C mode) will result in this function returning an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>(1) See <a class="el" href="serial_8h.html#a84cdc2d11d71d5fd97b96f427c239cb9">BSP430_SERIAL_ADJUST_CTL0_INITIALIZER()</a> regarding portable use of <code>ctl0_byte</code> header constants.</dd>
<dd>
(2) The MSP430's method of specifying SPI clock phase is opposite the industry standard. Use this table: </dd>
<dd>
<table class="doxtable">
<tr>
<th align="center">Mode </th><th align="center">CPOL </th><th align="center">CPHA </th><th align="left">ctl0_byte  </th></tr>
<tr>
<td align="center">0 </td><td align="center">0 </td><td align="center">0 </td><td align="left"><a class="el" href="msp430_8h.html#a51ab25e3e65cd1bb9863b0e6d0b7b6bd">UCCKPH</a> </td></tr>
<tr>
<td align="center">1 </td><td align="center">0 </td><td align="center">1 </td><td align="left">0 </td></tr>
<tr>
<td align="center">2 </td><td align="center">1 </td><td align="center">0 </td><td align="left"><a class="el" href="msp430_8h.html#a51ab25e3e65cd1bb9863b0e6d0b7b6bd">UCCKPH</a> | <a class="el" href="msp430_8h.html#ab4313a6c37c97ba5cdba16c4ca56b517">UCCKPL</a> </td></tr>
<tr>
<td align="center">3 </td><td align="center">1 </td><td align="center">1 </td><td align="left"><a class="el" href="msp430_8h.html#ab4313a6c37c97ba5cdba16c4ca56b517">UCCKPL</a> </td></tr>
</table>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctl1_byte</td><td>The configuration to be written to the device's ctl1 byte. For SPI mode, potential values specified in the &lt;<a class="el" href="msp430_8h.html" title="Stripped <msp430.h> header supporting Doxygen links. ">msp430.h</a>&gt; header are only configuration of the clock: <a class="el" href="msp430_8h.html#afc67af00f443bcf35e6864137fc64056">UCSSEL_0</a>, <a class="el" href="msp430_8h.html#a73c578a990628e924d98da6dffaf0629">UCSSEL_1</a>, <a class="el" href="msp430_8h.html#a1d80b08053e2c8dcad61e17d520da303">UCSSEL_2</a>, <a class="el" href="msp430_8h.html#ae659974d98f91adde08c264fe5fa8165">UCSSEL_3</a>. The <a class="el" href="msp430_8h.html#a5ed16d537b5b0bc2315389cea834a1a0">UCSWRST</a> field is controlled by the function. If <code>prescaler</code> is zero, the clock configuration in this will be overridden to select SMCLK.</td></tr>
    <tr><td class="paramname">prescaler</td><td>The value by which the clock selected in <code>ctl1_byte</code> is divided to produce the SPI clock. A value of zero will select the minimum of 1 and ceil(<a class="el" href="clock_8h.html#aae393938e85c471bb779ca0d5baa705f">ulBSP430clockSMCLK_Hz()</a>/<a class="el" href="serial_8h.html#a923ef219777a585b737647ad335ff25a">BSP430_SERIAL_SPI_BUS_SPEED_HZ</a>), resulting in the highest speed that does not exceed <a class="el" href="serial_8h.html#a923ef219777a585b737647ad335ff25a">BSP430_SERIAL_SPI_BUS_SPEED_HZ</a>. Use of this feature will override the clock selection in <code>ctl1_byte</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A peripheral-specific HAL handle if the allocation and configuration is successful, and a null handle if something went wrong (e.g., absence of the requested peripheral, an invalid mode in <code>ctl0_byte</code> or a zero-valued <code>prescaler</code>). </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc110x_2main_8c-example.html#a26">rf/cc110x/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a32f608fdca583bd1c68b1eb2617426e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a> hBSP430serialOpenUART </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ctl0_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ctl1_byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>baud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request and configure a serial device in UART mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the handle for the HAL interface for the serial device to be configured. These are found from the peripheral handle using <a class="el" href="serial_8h.html#ad311104b2da6d177b2ae5ec0b29e7207">hBSP430serialLookup()</a>.</td></tr>
    <tr><td class="paramname">ctl0_byte</td><td>The configuration to be written to the device's ctl0 byte. For UART mode, potential values specified in the &lt;<a class="el" href="msp430_8h.html" title="Stripped <msp430.h> header supporting Doxygen links. ">msp430.h</a>&gt; header include <a class="el" href="msp430_8h.html#a7fb6b3fbbb7fd56c8f11792ffb3e3d6c">UCPEN</a>, <a class="el" href="msp430_8h.html#a05da44320219dcbc56214c9fd424a219">UCPAR</a>, <a class="el" href="msp430_8h.html#a199ca0dc5cd21e551af5c23d9beec934">UCMSB</a>, <a class="el" href="msp430_8h.html#ad69178fe7f891cc7fa438e804cbf92a4">UC7BIT</a>, <a class="el" href="msp430_8h.html#a17059906b161d93c430b7ee875e0f356">UCSPB</a>. The UCMODE and UCSYNC elements of the byte are ignored. In most cases for UART mode a value of 0 producing 8N1 serial communications is appropriate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>See <a class="el" href="serial_8h.html#a84cdc2d11d71d5fd97b96f427c239cb9">BSP430_SERIAL_ADJUST_CTL0_INITIALIZER()</a> regarding portable use of <code>ctl0_byte</code> header constants.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctl1_byte</td><td>The configuration to be written to the device's ctl1 byte. For UART mode, potential values specified in the &lt;<a class="el" href="msp430_8h.html" title="Stripped <msp430.h> header supporting Doxygen links. ">msp430.h</a>&gt; header include <a class="el" href="msp430_8h.html#ae54706b57b264155a533ba8673b8ed96">UCRXEIE</a>, <a class="el" href="msp430_8h.html#ac4f7aaa4d67ed80a4099d40e2dde3ccc">UCBRKIE</a>, and <a class="el" href="msp430_8h.html#a6d58a8e741c77478dafc016c41fd57b2">UCDORM</a>. The UCSSEL and UCSWRST elements of the byte are cleared as the function configures those. In most cases a value of 0 is appropriate.</td></tr>
    <tr><td class="paramname">baud</td><td>The desired baud rate. This will be configured automatically. ACLK will be used as the baud rate clock if ACLK is both at least 20 kHz and at least three times faster than the requested baud rate; otherwise SMCLK will be used. The function invokes <a class="el" href="clock_8h.html#aae393938e85c471bb779ca0d5baa705f">ulBSP430clockSMCLK_Hz()</a> and <a class="el" href="clock_8h.html#a9997899ae094a0e809c01239328f2e0b">ulBSP430clockACLK_Hz()</a> as necessary to determine the actual speed of the baud rate clock.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A peripheral-specific HAL handle if the allocation and configuration is successful, and a null handle if something went wrong.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="serial_8h.html#ae603188bfe14e0dcb7847f65ad57331d">configBSP430_SERIAL_ENABLE_UART</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a51d2c47baecbccbdcb631dd314709b85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430i2cRxData_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rx_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rx_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive using a master I2C-configured device</p>
<p>This routine receives <code>rx_len</code> octets into <code>rx_data</code>, storing the octets received in response into <code>rx_data</code>.</p>
<p>This routine should only be invoked when <a class="el" href="structsBSP430halSERIAL.html#ae9c725b75071a0e36f3468c905720c78"><em>hal-&gt;tx_cbchain_ni</em> </a> is null. If a callback is present, it is expected to be used to provide data for transmission. Note that such a callback must handle I2C start and stop conditions, which are peripheral-specific.</p>
<dl class="section warning"><dt>Warning</dt><dd>This routine supports the common case of the MSP430 as single I2C master. It does not support repeated-start. It will not work for slave operations, and may not work with multimaster configurations. BSP430 does not currently provide abstractions for these alternative I2C configurations.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device from which the data is received</td></tr>
    <tr><td class="paramname">rx_data</td><td>where to store the data. The space available must be at least <code>rx_len</code> octets.</td></tr>
    <tr><td class="paramname">rx_len</td><td>the number of bytes expected in response. A transaction reading more than 255 bytes may be rejected.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the total number of bytes stored in <code>rx_data</code>, or a negative error code (see <a class="el" href="serial_8h.html#a06f0404574a7b85a2b0e9388d696331c">BSP430_I2C_ERRFLAG_PROTOCOL</a> and <a class="el" href="serial_8h.html#ac5440f59c28e6491b153f6603032dfb5">BSP430_I2C_ERRFLAG_SPINLIMIT</a>). This function will not return -1, reserving that as a generic error code for higher-level functions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2tmp102_2main_8c-example.html#a13">sensors/tmp102/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a7cda50d2715c90420e1ca71f8f031990"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430i2cSetAddresses_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>own_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slave_address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Configure I2C addresses</p>
<p>This routine sets the own-address and slave-address registers of an I2C peripheral. The device should have been opened as an I2C device prior to invoking this function.</p>
<dl class="section warning"><dt>Warning</dt><dd>On some families the underlying peripheral must be <a class="el" href="serial_8h.html#a95ac902c27a87bdb9e8332a66d99faa5">held in reset</a> if <code>own_address</code> is to be set.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device to be configured</td></tr>
    <tr><td class="paramname">own_address</td><td>the value to use as this device's address. A negative value leaves the current configured own address unchanged.</td></tr>
    <tr><td class="paramname">slave_address</td><td>the value to use as the slave address. A negative value leaves the current configured slave address unchanged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successfully set, -1 if an error occurs. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2tmp102_2main_8c-example.html#a11">sensors/tmp102/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a350ce4630411d82ba30cc75e0fbcd086"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430i2cTxData_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>tx_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>tx_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transmit using a master I2C-configured device</p>
<p>This routine transmits <code>tx_len</code> octets from <code>tx_data</code>.</p>
<p>This routine should only be invoked when <a class="el" href="structsBSP430halSERIAL.html#ae9c725b75071a0e36f3468c905720c78"><em>hal-&gt;tx_cbchain_ni</em> </a> is null. If a callback is present, it is expected to be used to provide data for transmission. Note that such a callback must handle I2C start and stop conditions, which are peripheral-specific.</p>
<dl class="section warning"><dt>Warning</dt><dd>This routine supports the common case of the MSP430 as single I2C master. It does not support repeated-start. It will not work for slave operations, and may not work with multimaster configurations. BSP430 does not currently provide abstractions for these alternative I2C configurations.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device over which the data is transmitted and received</td></tr>
    <tr><td class="paramname">tx_data</td><td>the data to be transmitted</td></tr>
    <tr><td class="paramname">tx_len</td><td>the number of bytes to transmit. A transaction writing more than 255 bytes may be rejected.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the total number of bytes transmitted, or a negative error code (see <a class="el" href="serial_8h.html#a06f0404574a7b85a2b0e9388d696331c">BSP430_I2C_ERRFLAG_PROTOCOL</a> and <a class="el" href="serial_8h.html#ac5440f59c28e6491b153f6603032dfb5">BSP430_I2C_ERRFLAG_SPINLIMIT</a>). This function will not return -1, reserving that as a generic error code for higher-level functions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2tmp102_2main_8c-example.html#a12">sensors/tmp102/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a9ef360a3a47ffaef50409a14fbffe5d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430serialClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Release a serial device.</p>
<p>This places the device into reset mode and resets the peripheral pins to port function. It does not release or disassociate any callbacks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>a serial HAL handle previously obtained through <a class="el" href="serial_8h.html#a32f608fdca583bd1c68b1eb2617426e5">hBSP430serialOpenUART()</a>, <a class="el" href="serial_8h.html#a40983f5ed625fd352698117786691dd5">hBSP430serialOpenSPI()</a>, or <a class="el" href="serial_8h.html#a85fb70e450164721994aad656c24d6a0">hBSP430serialOpenI2C()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the close occurred without error. </dd></dl>

</div>
</div>
<a class="anchor" id="ab66c4d624b7a266eed7d846af64ab5cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430serialSetHold_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>holdp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Control serial device hold mode</p>
<p>When a serial peripheral is placed in hold mode the peripheral is reset per <a class="el" href="serial_8h.html#a95ac902c27a87bdb9e8332a66d99faa5">iBSP430serialSetReset_rh()</a> with <em>resetp</em> set to a negative value to force a wait for pending activity to complete. In addition, the function reconfigures the associated port pins to their digital I/O function per <a class="el" href="platform_8h.html#a7c332b3b2af080a737e5b75ab08a4f4f">iBSP430platformConfigurePeripheralPins_ni()</a>.</p>
<p>When the hold is released, the port pins are reconfigured to their peripheral function per <a class="el" href="platform_8h.html#a7c332b3b2af080a737e5b75ab08a4f4f">iBSP430platformConfigurePeripheralPins_ni()</a>, and the device is taken out of reset mode.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="serial_8h.html#a95ac902c27a87bdb9e8332a66d99faa5">iBSP430serialSetReset_rh()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>a serial HAL handle to a peripheral that has been opened</td></tr>
    <tr><td class="paramname">holdp</td><td>a nonzero value if the peripheral is to be placed into hold mode, and a zero value to release it from hold mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the device was previously enabled; a positive value if the device was previously in hold mode. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a39">bootstrap/applpm/main.c</a>, and <a class="el" href="rf_2cc110x_2main_8c-example.html#a28">rf/cc110x/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a95ac902c27a87bdb9e8332a66d99faa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430serialSetReset_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>resetp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Control serial device reset mode.</p>
<p>When placed into reset mode, the <a class="el" href="msp430_8h.html#a5ed16d537b5b0bc2315389cea834a1a0">UCSWRST</a> bit (or peripheral-specific analog) is set, clearing all errors and stopping all activity but retaining all configuration information. Interrupts are disabled. When the hold is released the <a class="el" href="msp430_8h.html#a5ed16d537b5b0bc2315389cea834a1a0">UCSWRST</a> bit is cleared, and any interrupts for which callbacks are registered are re-enabled. (Note that enabling the interrupts at the peripheral level does not change the <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a> state, which should be cleared while this function is executing.)</p>
<p>When the peripheral is in I2C mode, any pending <a class="el" href="msp430_8h.html#a9047505c0b45bd40203b5bcb99c0f9e4">UCTXNACK</a>, <a class="el" href="msp430_8h.html#a4f09a606879b645c1a3fd42d9cf30b97">UCTXSTP</a>, <a class="el" href="msp430_8h.html#a29b01fc2d0d6715b33ba6f2d2a4e5e02">UCTXSTT</a>, or similar family-specific requests will be cleared before the reset is released.</p>
<p>Placing a serial peripheral into reset mode prior to entering a low power mode will often reduce current consumption. Entering and leaving reset mode is also the simplest way to clear peripheral errors and flush pending data.</p>
<dl class="section note"><dt>Note</dt><dd>A positive value for <em>resetp</em> places the peripheral into reset mode immediately. This can result in data loss if transmitted data is still in progress. Passing a negative value for <em>resetp</em> does the functional equivalent of invoking <a class="el" href="serial_8h.html#ad0eb5394c5af668e42fdf0ef8a7941ec">vBSP430serialFlush_ni()</a> prior to placing the device in reset.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The GPIO configuration of peripheral pins is not affected by this function. Power consumption in a low power mode may be elevated as a result. Consider using iBSP430seriaLSetHold_rh().</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function differs from <a class="el" href="serial_8h.html#ab66c4d624b7a266eed7d846af64ab5cb">iBSP430serialSetHold_rh()</a> in that it: <ul>
<li>Allows caller to determine whether to wait for pending activity to complete before placing the peripheral in reset mode. </li>
<li>Does not reconfigure port pins; these remain in their peripheral function role preventing their use as GPIOs while reset.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="serial_8h.html#ab66c4d624b7a266eed7d846af64ab5cb">iBSP430serialSetHold_rh()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>a serial HAL handle to a peripheral that has been opened</td></tr>
    <tr><td class="paramname">resetp</td><td>A positive value places peripheral into reset mode. A negative value places peripheral into reset mode after blocking until peripheral is no longer busy. A zero value releases peripheral from reset mode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A positive value if the device had been in reset mode; zero if it had not been in reset mode. </dd></dl>

</div>
</div>
<a class="anchor" id="a7646c9d6044dcc9729b72cf9e559fa55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430spiTxRx_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>tx_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>tx_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rx_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transmit and receive using a SPI-configured device</p>
<p>This routine transmits <code>tx_len</code> octets from <code>tx_data</code>, storing the octets received in response into <code>rx_data</code>. It then transmits <code>rx_len</code> dummy bytes, appending the resulting response into <code>rx_data</code>.</p>
<p>This routine should only be invoked when <a class="el" href="structsBSP430halSERIAL.html#ae9c725b75071a0e36f3468c905720c78"><code>hal-&gt;tx_cbchain_ni</code> </a> and <a class="el" href="structsBSP430halSERIAL.html#ac1ada002d87c190666a1729f2dc86833"><code>hal-&gt;rx_cbchain_ni</code> </a> are null. If callbacks are present, they are expected to be used to provide data for transmission and to process received data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device over which the data is transmitted and received</td></tr>
    <tr><td class="paramname">tx_data</td><td>the data to be transmitted (generally, a command). The pointer may be null only if <code>tx_len</code> is zero.</td></tr>
    <tr><td class="paramname">tx_len</td><td>the number of bytes to transmit as the command. The value may be zero if this call is reading additional data resulting from a previous command.</td></tr>
    <tr><td class="paramname">rx_len</td><td>the number of additional bytes expected in response, exclusive of the synchronous responses to bytes transmitted from <code>tx_data</code>. See <a class="el" href="serial___8h.html#ae97e0a8d4d66141d6082dac000826b8d">BSP430_SERIAL_SPI_READ_TX_BYTE</a> regarding the content of the dummy bytes that are transmitted to trigger reception.</td></tr>
    <tr><td class="paramname">rx_data</td><td>where to store the responses received during the transmit and receive phases. A null pointer may be passed if the incoming data is not of interest. If the pointer is not null, the space available must be at least <code>tx_len</code> + <code>rx_len</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the total number of bytes stored in <code>rx_data</code> (or that would have been stored if <code>rx_data</code> were not null), or -1 if an error occcured. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc110x_2main_8c-example.html#a1">rf/cc110x/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ad7c950b026740966baf8a721006fda3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430uartRxByte_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive a byte from a UART-configured device.</p>
<p>This routine should only be invoked when <a class="el" href="structsBSP430halSERIAL.html#ac1ada002d87c190666a1729f2dc86833"><em>hal-&gt;rx_cbchain_ni</em> </a> is null. If a callback is present, it is expected to be used to accept data on reception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device over which the data should be transmitted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the character received if any is ready to return, or -1 if the device has no data available. </dd></dl>

</div>
</div>
<a class="anchor" id="a372fb5af57029d237ebb5e03e8aec693"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430uartTxASCIIZ_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transmit a sequence of characters over a UART-configured device.</p>
<p>This routine should only be invoked when <a class="el" href="structsBSP430halSERIAL.html#ae9c725b75071a0e36f3468c905720c78"><em>hal-&gt;tx_cbchain_ni</em> </a> is null. If a callback is present, it is expected to be used to provide data for transmission.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device over which the data should be transmitted</td></tr>
    <tr><td class="paramname">str</td><td>a NUL-terminated sequence of character data to be transmitted. The NUL serves only as a termination marker, and is not transmitted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes transmitted, or -1 if an error occurs </dd></dl>

</div>
</div>
<a class="anchor" id="ae2540683d6077a9cf7f513e2c2cc9f3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430uartTxByte_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transmit a byte over a UART-configured device.</p>
<p>This routine should only be invoked when <a class="el" href="structsBSP430halSERIAL.html#ae9c725b75071a0e36f3468c905720c78"><em>hal-&gt;tx_cbchain_ni</em> </a> is null. If a callback is present, it is expected to be used to provide data for transmission.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device over which the data should be transmitted</td></tr>
    <tr><td class="paramname">c</td><td>a data byte to be transmitted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the input character <code>c</code> if transmitted, or -1 if an error occurred. </dd></dl>

</div>
</div>
<a class="anchor" id="a98d367fe186c2f43efe6cd454a64c6ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> int iBSP430uartTxData_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transmit a block of data over a UART-configured device.</p>
<p>This routine should only be invoked when <a class="el" href="structsBSP430halSERIAL.html#ae9c725b75071a0e36f3468c905720c78"><em>hal-&gt;tx_cbchain_ni</em> </a> is null. If a callback is present, it is expected to be used to provide data for transmission.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device over which the data should be transmitted</td></tr>
    <tr><td class="paramname">data</td><td>pointer to the start of a sequence of data to transmit</td></tr>
    <tr><td class="paramname">len</td><td>the number of octets to be transmitted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of octets successfully transmitted </dd></dl>

</div>
</div>
<a class="anchor" id="a55ba4b6d332a2ea1a0c0c077b169bacc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int uiBSP430serialSMCLKPrescaler </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>freq_Hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate prescaler to obtain desired clock from SMCLK.</p>
<p>The prescaler returned is designed to produce the fastest clock based on an integer division of <a class="el" href="clock_8h.html#aae393938e85c471bb779ca0d5baa705f">ulBSP430clockSMCLK_Hz()</a> that does not exceed <code>freq_Hz</code>, except that if <code>freq_Hz</code> is too slow to be produced by dividing SMCLK by a 16-bit prescaler then 65535 will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq_Hz</td><td>Desired clock frequency in Hz.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A prescaler, as used in <a class="el" href="serial_8h.html#a40983f5ed625fd352698117786691dd5">hBSP430serialOpenSPI()</a> or <a class="el" href="serial_8h.html#a85fb70e450164721994aad656c24d6a0">hBSP430serialOpenI2C()</a>. The value will never be zero, and will saturate at 65535. </dd></dl>

</div>
</div>
<a class="anchor" id="a998a5fc2148de55d12ecc39e13bc9d5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long ulBSP430serialRate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the frequency of the serial interface.</p>
<p>If <code>hal</code> is configured in UART mode, this is the baud rate. In all other modes it's the bus frequency.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>the serial device for which frequency is desired</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Frequency of the serial interface in baud (UART) or Hz (SPI, I2C). A zero value indicates an error. </dd></dl>

</div>
</div>
<a class="anchor" id="ad0eb5394c5af668e42fdf0ef8a7941ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void vBSP430serialFlush_ni </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Spin until any in-progress transmission or reception is complete.</p>
<p>This is used to ensure the device is idle prior to reconfiguring it.</p>
<dl class="section note"><dt>Note</dt><dd>This function must be executed with interrupts disabled lest an interrupt cause the peripheral to begin new work after any in progress work had been completed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This waits for <a class="el" href="msp430_8h.html#a9ae5503cf88ab5680e1bbb5f49e59e67">UCBUSY</a> to be clear in the peripheral. For I2C that flag may be set when another device is active on the I2C bus; further, it may be clear while this device is still transmitting special signals such as <a class="el" href="msp430_8h.html#a4f09a606879b645c1a3fd42d9cf30b97">UCTXSTP</a>. Alternative techniques are required to ensure I2C operations are complete prior to placing the peripheral into reset mode. This is done in the reference <a class="el" href="serial_8h.html#a51d2c47baecbccbdcb631dd314709b85">iBSP430i2cRxData_rh()</a> and <a class="el" href="serial_8h.html#a350ce4630411d82ba30cc75e0fbcd086">iBSP430i2cTxData_rh()</a> single-master routines.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>a serial HAL handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab94651c6368443f4040227961d765b1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void vBSP430serialWakeupTransmit_rh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="serial___8h.html#a31185ece51d6a343bb1f1c6f44fa8bcb">hBSP430halSERIAL</a>&#160;</td>
          <td class="paramname"><em>hal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wake up the interrupt-driven transmission if necessary.</p>
<p>Normally the transmission infrastructure transmits data as soon as space is available in the transmission buffer. The infrastructure is disabled when the <a class="el" href="structsBSP430halSERIAL.html#ae9c725b75071a0e36f3468c905720c78">sBSP430halSERIAL.tx_cbchain_ni</a> indicates that no more data is available. When this has happened, it must be told that more data has been added and the infrastructure re-enabled.</p>
<p>For efficiency, this should only be called if it is believed that data is ready to be presented in a transmission callback, but that the transmission infrastructure may be idle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hal</td><td>a serial HAL handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f2e6f39abd1faca343663917e34840a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* xBSP430serialName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="periph_8h.html#a6a1c6c4a24d03d6306bf32f8dbde05a9">tBSP430periphHandle</a>&#160;</td>
          <td class="paramname"><em>periph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a human-readable identifier for the serial peripheral</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">periph</td><td>The handle identifier, such as <a class="el" href="usci_8h.html#a1b58de18238a07a1a9730e64a379613e">BSP430_PERIPH_USCI_A0</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The short name of the port, e.g. "USCI_A0". If the peripheral is not recognized as a serial device, a null pointer is returned. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc110x_2main_8c-example.html#a23">rf/cc110x/main.c</a>, <a class="el" href="rf_2cc3000_2cli_2main_8c-example.html#a47">rf/cc3000/cli/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a21">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2tmp102_2main_8c-example.html#a5">sensors/tmp102/main.c</a>, <a class="el" href="sensors_2venus6pps_2main_8c-example.html#a30">sensors/venus6pps/main.c</a>, <a class="el" href="utility_2m25p_2main_8c-example.html#a15">utility/m25p/main.c</a>, and <a class="el" href="utility_2u8glib_2main_8c-example.html#a22">utility/u8glib/main.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 15 2014 11:27:13 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
