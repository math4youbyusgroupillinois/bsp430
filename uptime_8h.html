<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>BSP430: include/bsp430/utility/uptime.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20141115</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_62ed61ea3473d085a8b2bf70053df4f0.html">include</a></li><li class="navelem"><a class="el" href="dir_7c92f3a74acfd272e55b8e8273858819.html">bsp430</a></li><li class="navelem"><a class="el" href="dir_4d13793df383114196391927751b44a0.html">utility</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">uptime.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Support for maintaining a system uptime counter.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="timer_8h_source.html">bsp430/periph/timer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="clock_8h_source.html">bsp430/clock.h</a>&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
</div>
<p><a href="uptime_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430uptimeNTPShortFormat.html">sBSP430uptimeNTPShortFormat</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430uptimeNTPTimestamp.html">sBSP430uptimeNTPTimestamp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsBSP430uptimeNTPPacketHeader.html">sBSP430uptimeNTPPacketHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9d11620036fe41e9f4fca30676e4d821"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a9d11620036fe41e9f4fca30676e4d821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a8d2483ccc30c355cae2f3be6ad547"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#aa3a8d2483ccc30c355cae2f3be6ad547">BSP430_UPTIME</a>&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td></tr>
<tr class="separator:aa3a8d2483ccc30c355cae2f3be6ad547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61dba25c9c2606cf5acb2595c5162d42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a61dba25c9c2606cf5acb2595c5162d42">configBSP430_UPTIME_EPOCH</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a61dba25c9c2606cf5acb2595c5162d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0fd811e867799ad7873f867c67dbd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:adb0fd811e867799ad7873f867c67dbd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbfb3c88912e050b4bb58950f824522c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#acbfb3c88912e050b4bb58950f824522c">BSP430_UPTIME_TIMER_PERIPH_CPPID</a>&#160;&#160;&#160;include &quot;bsp430_config.h&quot;</td></tr>
<tr class="separator:acbfb3c88912e050b4bb58950f824522c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4b3ca225b4057be8a5c6f05de6eb7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a6d4b3ca225b4057be8a5c6f05de6eb7e">BSP430_UPTIME_TIMER_PERIPH_HANDLE</a>&#160;&#160;&#160;platform or application specific</td></tr>
<tr class="separator:a6d4b3ca225b4057be8a5c6f05de6eb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa14b0b52fb6f36c07294924bea45b36a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__config__functional.html#gaa14b0b52fb6f36c07294924bea45b36a">configBSP430_UPTIME_TIMER_HAL_CC0_ISR</a>&#160;&#160;&#160;indirectly defaulted</td></tr>
<tr class="separator:gaa14b0b52fb6f36c07294924bea45b36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7accd9ef2adfde0ee3c88d5888e1d616"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a7accd9ef2adfde0ee3c88d5888e1d616">BSP430_UPTIME_TASSEL</a>&#160;&#160;&#160;TASSEL_1 /* == TASSEL__ACLK */</td></tr>
<tr class="separator:a7accd9ef2adfde0ee3c88d5888e1d616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58cb708c91abec9973d8a4ae912cea8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ae58cb708c91abec9973d8a4ae912cea8">BSP430_UPTIME_DIVIDING_SHIFT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ae58cb708c91abec9973d8a4ae912cea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463e61b338971a18298935cfca570eb4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a463e61b338971a18298935cfca570eb4">BSP430_UPTIME_MS_TO_UTT</a>(ms_)&#160;&#160;&#160;<a class="el" href="core_8h.html#a9316a29a4688017236770d501848fa18">BSP430_CORE_MS_TO_TICKS</a>((ms_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td></tr>
<tr class="separator:a463e61b338971a18298935cfca570eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cde1e0939c712781836c79428c5996d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a3cde1e0939c712781836c79428c5996d">BSP430_UPTIME_UTT_TO_MS</a>(utt_)&#160;&#160;&#160;<a class="el" href="core_8h.html#a5c82432f5b308110619c93d2ee32e892">BSP430_CORE_TICKS_TO_MS</a>((utt_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td></tr>
<tr class="separator:a3cde1e0939c712781836c79428c5996d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9ae9139f8a4415f489870b8b07f3eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a7f9ae9139f8a4415f489870b8b07f3eb">BSP430_UPTIME_US_TO_UTT</a>(us_)&#160;&#160;&#160;<a class="el" href="core_8h.html#a219559446b71e4adfab17e300c0c1ecb">BSP430_CORE_US_TO_TICKS</a>((us_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td></tr>
<tr class="separator:a7f9ae9139f8a4415f489870b8b07f3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9287c5663ef4d656b76bbb3ece7b7658"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a9287c5663ef4d656b76bbb3ece7b7658">BSP430_UPTIME_UTT_TO_US</a>(utt_)&#160;&#160;&#160;<a class="el" href="core_8h.html#a3f5213f6fd15b49cb3a6e0b511ba6787">BSP430_CORE_TICKS_TO_US</a>((utt_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td></tr>
<tr class="separator:a9287c5663ef4d656b76bbb3ece7b7658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47d677ac9443e2e26608ef5278f1a6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ae47d677ac9443e2e26608ef5278f1a6d">BSP430_UPTIME_AS_TEXT_LENGTH</a>&#160;&#160;&#160;sizeof(&quot;HHH:MM:SS.mmm&quot;)</td></tr>
<tr class="separator:ae47d677ac9443e2e26608ef5278f1a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc74e7198f189c84941a73c523863191"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#abc74e7198f189c84941a73c523863191">BSP430_UPTIME_DELAY_CCIDX</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:abc74e7198f189c84941a73c523863191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49e6bf8eff19c55b12695672bda525f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI</a>(delay_utt_,  lpm_bits_,  exit_expr_)</td></tr>
<tr class="separator:ad49e6bf8eff19c55b12695672bda525f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77db7c5fbf8dace5e30a7a9e9c693adb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a77db7c5fbf8dace5e30a7a9e9c693adb">BSP430_UPTIME_DELAY_UTT</a>(delay_utt_,  lpm_bits_,  exit_expr_)</td></tr>
<tr class="separator:a77db7c5fbf8dace5e30a7a9e9c693adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d852ee2f8f7ec9a52e542cbf8d57c27"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a5d852ee2f8f7ec9a52e542cbf8d57c27">BSP430_UPTIME_DELAY_MS_NI</a>(delay_ms_,  lpm_bits_,  exit_expr_)</td></tr>
<tr class="separator:a5d852ee2f8f7ec9a52e542cbf8d57c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592198745fd9e7e43360c14a0f8741b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a592198745fd9e7e43360c14a0f8741b9">BSP430_UPTIME_DELAY_MS</a>(delay_ms_,  lpm_bits_,  exit_expr_)</td></tr>
<tr class="separator:a592198745fd9e7e43360c14a0f8741b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac695cb10d584a5076ab466325fe87cbd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#gac695cb10d584a5076ab466325fe87cbd">BSP430_UPTIME_POSIX_EPOCH_NTPIS</a>&#160;&#160;&#160;2208988800UL</td></tr>
<tr class="separator:gac695cb10d584a5076ab466325fe87cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55e82a7b83eb5d2527b633b05da7c611"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga55e82a7b83eb5d2527b633b05da7c611">BSP430_UPTIME_BYPASS_EPOCH_NTP</a>&#160;&#160;&#160;((uint64_t)(<a class="el" href="group__grp__utility__uptime__epoch.html#gac695cb10d584a5076ab466325fe87cbd">BSP430_UPTIME_POSIX_EPOCH_NTPIS</a> + 1388534400UL) &lt;&lt; 32)</td></tr>
<tr class="separator:ga55e82a7b83eb5d2527b633b05da7c611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eae053125133f9e6bd7b0975faf2346"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga0eae053125133f9e6bd7b0975faf2346">BSP430_UPTIME_EPOCH_UPDATE_INTERVAL_UTT</a>&#160;&#160;&#160;0x40000000L</td></tr>
<tr class="separator:ga0eae053125133f9e6bd7b0975faf2346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120a86e292720a8304920856cf4d969f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga120a86e292720a8304920856cf4d969f">BSP430_UPTIME_EPOCH_VALID_OFFSET_UTT</a>&#160;&#160;&#160;0x60000000L</td></tr>
<tr class="separator:ga120a86e292720a8304920856cf4d969f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a48e8a2fa577b5ad45b0fdd51c035aefd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a48e8a2fa577b5ad45b0fdd51c035aefd">sBSP430uptimeActivityTotals</a></td></tr>
<tr class="separator:a48e8a2fa577b5ad45b0fdd51c035aefd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f55b02ec7e0b0fb400718b7add22f0a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430uptimeNTPShortFormat.html">sBSP430uptimeNTPShortFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga5f55b02ec7e0b0fb400718b7add22f0a">sBSP430uptimeNTPShortFormat</a></td></tr>
<tr class="separator:ga5f55b02ec7e0b0fb400718b7add22f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga057de2cee4aab178d2448c1a0a814bb1"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430uptimeNTPTimestamp.html">sBSP430uptimeNTPTimestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga057de2cee4aab178d2448c1a0a814bb1">sBSP430uptimeNTPTimestamp</a></td></tr>
<tr class="separator:ga057de2cee4aab178d2448c1a0a814bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac941bf3f0730d029f956cfe8f7028304"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsBSP430uptimeNTPPacketHeader.html">sBSP430uptimeNTPPacketHeader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#gac941bf3f0730d029f956cfe8f7028304">sBSP430uptimeNTPPacketHeader</a></td></tr>
<tr class="separator:gac941bf3f0730d029f956cfe8f7028304"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9dea5efac11cf472a643af6c03929fdf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="timer_8h.html#a05821bb5b9c3c49fbc7ced58b7a4eaa8">hBSP430halTIMER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a9dea5efac11cf472a643af6c03929fdf">hBSP430uptimeTimer</a> (void)</td></tr>
<tr class="separator:a9dea5efac11cf472a643af6c03929fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be2d8e43ecbecf517a452b430ecf029"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a> (void)</td></tr>
<tr class="separator:a4be2d8e43ecbecf517a452b430ecf029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3bacc5bf6eeb96037f3470fa3ac9c5c"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#aa3bacc5bf6eeb96037f3470fa3ac9c5c">ulBSP430uptimeSetConversionFrequency_ni</a> (unsigned long frequency_Hz)</td></tr>
<tr class="separator:aa3bacc5bf6eeb96037f3470fa3ac9c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b2fa8646bfd0856d6a9b095db30e93"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ab4b2fa8646bfd0856d6a9b095db30e93">ulBSP430uptime_ni</a> (void)</td></tr>
<tr class="separator:ab4b2fa8646bfd0856d6a9b095db30e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0b8aeba63d7b2ce965a650125eb8ef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a7e0b8aeba63d7b2ce965a650125eb8ef">ulBSP430uptime</a> (void)</td></tr>
<tr class="separator:a7e0b8aeba63d7b2ce965a650125eb8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a992dc6ac950c1ad63c79795aa604f1ef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a992dc6ac950c1ad63c79795aa604f1ef">ullBSP430uptime</a> (void)</td></tr>
<tr class="separator:a992dc6ac950c1ad63c79795aa604f1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b41f0a9d48607ffaa2ff3c07facaff"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a43b41f0a9d48607ffaa2ff3c07facaff">ullBSP430uptimeCorrected</a> (unsigned int ctr)</td></tr>
<tr class="separator:a43b41f0a9d48607ffaa2ff3c07facaff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab05faa2cb7543ab1532ae80f0f3fd4d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#aab05faa2cb7543ab1532ae80f0f3fd4d">uiBSP430uptimeCounter_ni</a> (void)</td></tr>
<tr class="separator:aab05faa2cb7543ab1532ae80f0f3fd4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a8427196f37f2adf160c96aebf5d09"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#af4a8427196f37f2adf160c96aebf5d09">bBSP430uptimeIsValid</a> (unsigned long duration_utt)</td></tr>
<tr class="separator:af4a8427196f37f2adf160c96aebf5d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e6486f1125dcdc03b82296312abea93"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a9e6486f1125dcdc03b82296312abea93">ulBSP430uptimeValidated</a> (unsigned long duration_utt)</td></tr>
<tr class="separator:a9e6486f1125dcdc03b82296312abea93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ac7fe1f205bed2b6e8e41faa8a43bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#af2ac7fe1f205bed2b6e8e41faa8a43bc">vBSP430uptimeStart_ni</a> (void)</td></tr>
<tr class="separator:af2ac7fe1f205bed2b6e8e41faa8a43bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fc249f2c4699ab77b408e3488ca4b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a62fc249f2c4699ab77b408e3488ca4b5">vBSP430uptimeSuspend_ni</a> (void)</td></tr>
<tr class="separator:a62fc249f2c4699ab77b408e3488ca4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e943e205552a5c9aa1532ca1347b0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#af8e943e205552a5c9aa1532ca1347b0b">vBSP430uptimeResume_ni</a> (void)</td></tr>
<tr class="separator:af8e943e205552a5c9aa1532ca1347b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb1310c769f028347010502456fb918"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a1cb1310c769f028347010502456fb918">xBSP430uptimeAsText</a> (unsigned long duration_utt, char *buffer)</td></tr>
<tr class="separator:a1cb1310c769f028347010502456fb918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790fc3c41c4a8e93ec7caca7825733c1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a790fc3c41c4a8e93ec7caca7825733c1">xBSP430uptimeAsText_ni</a> (unsigned long duration_utt)</td></tr>
<tr class="separator:a790fc3c41c4a8e93ec7caca7825733c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11686ce1c2041691d6170d54e308676"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ae11686ce1c2041691d6170d54e308676">uiBSP430uptimeScaleForDisplay</a> (unsigned long long duration_utt, const char **unitp)</td></tr>
<tr class="separator:ae11686ce1c2041691d6170d54e308676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad471645985eedc1c36ea7233cd57a0e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ad471645985eedc1c36ea7233cd57a0e6">vBSP430uptimeActivityReset</a> (<a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *sp, bool from_now)</td></tr>
<tr class="separator:ad471645985eedc1c36ea7233cd57a0e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af299837561fe4767f18587b592b538d2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#af299837561fe4767f18587b592b538d2">vBSP430uptimeActivityStartSleep_ni</a> (<a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *sp)</td></tr>
<tr class="separator:af299837561fe4767f18587b592b538d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41d0dfe242255bc0e5eaee2406b9e4e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#af41d0dfe242255bc0e5eaee2406b9e4e">vBSP430uptimeActivityStartActive_ni</a> (<a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *sp)</td></tr>
<tr class="separator:af41d0dfe242255bc0e5eaee2406b9e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb855b7a69680ea04f0bc399ee312ae6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#acb855b7a69680ea04f0bc399ee312ae6">uiBSP430uptimeActivity_ppt</a> (<a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *sp)</td></tr>
<tr class="separator:acb855b7a69680ea04f0bc399ee312ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae865c97f202548e80693fef9ffa7893f"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ae865c97f202548e80693fef9ffa7893f">lBSP430uptimeSleepUntil</a> (unsigned long setting_utt, unsigned int lpm_bits)</td></tr>
<tr class="separator:ae865c97f202548e80693fef9ffa7893f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6478a3b6c67d2b0d1cee284f7d69c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a6c6478a3b6c67d2b0d1cee284f7d69c3">iBSP430uptimeDelaySetEnabled_ni</a> (int enablep)</td></tr>
<tr class="separator:a6c6478a3b6c67d2b0d1cee284f7d69c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca58b08a55f4abbb00d68445967c1082"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#gaca58b08a55f4abbb00d68445967c1082">iBSP430uptimeCheckEpochValidity</a> ()</td></tr>
<tr class="separator:gaca58b08a55f4abbb00d68445967c1082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbf9d7cbabe6c7060d94eccd41adff07"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#gacbf9d7cbabe6c7060d94eccd41adff07">ulBSP430uptimeLastEpochUpdate</a> ()</td></tr>
<tr class="separator:gacbf9d7cbabe6c7060d94eccd41adff07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b6f91fb75c529345a0ac630c8360407"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga1b6f91fb75c529345a0ac630c8360407">lBSP430uptimeEpochAge</a> ()</td></tr>
<tr class="separator:ga1b6f91fb75c529345a0ac630c8360407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e8bb729f03dfd364a54b85bb6c75729"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga7e8bb729f03dfd364a54b85bb6c75729">iBSP430uptimeEpochEra</a> (unsigned long time_utt)</td></tr>
<tr class="separator:ga7e8bb729f03dfd364a54b85bb6c75729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1466203a5508214f4e6c5b55117c9fcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga1466203a5508214f4e6c5b55117c9fcf">iBSP430uptimeInitializeNTPRequest</a> (<a class="el" href="structsBSP430uptimeNTPPacketHeader.html">sBSP430uptimeNTPPacketHeader</a> *ntpp)</td></tr>
<tr class="separator:ga1466203a5508214f4e6c5b55117c9fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac658e909e152bf3f821b9c96680e1a61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#gac658e909e152bf3f821b9c96680e1a61">iBSP430uptimeSetNTPXmtField</a> (<a class="el" href="structsBSP430uptimeNTPPacketHeader.html">sBSP430uptimeNTPPacketHeader</a> *ntpp, unsigned long *putt)</td></tr>
<tr class="separator:gac658e909e152bf3f821b9c96680e1a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga420f53365274ecc364c65fc615e57940"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga420f53365274ecc364c65fc615e57940">iBSP430uptimeSetEpochFromNTP</a> (uint64_t epoch_ntp)</td></tr>
<tr class="separator:ga420f53365274ecc364c65fc615e57940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac179402eadc08fb25cddf49bc1d4bb74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#gac179402eadc08fb25cddf49bc1d4bb74">iBSP430uptimeAdjustEpochFromNTP</a> (int64_t adjustment_ntp)</td></tr>
<tr class="separator:gac179402eadc08fb25cddf49bc1d4bb74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64b867564c88a94f49074fe2dff66bb5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga64b867564c88a94f49074fe2dff66bb5">iBSP430uptimeSetEpochFromTimeval</a> (const struct timeval *tv, unsigned long when_utt)</td></tr>
<tr class="separator:ga64b867564c88a94f49074fe2dff66bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3495d789a656fb2f5ab6fa059bd4098a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga3495d789a656fb2f5ab6fa059bd4098a">iBSP430uptimeAsNTP</a> (unsigned long utt, uint64_t *ntpp, int bypass_validation)</td></tr>
<tr class="separator:ga3495d789a656fb2f5ab6fa059bd4098a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc50826a19222664ec857c0b75ab6e31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#gacc50826a19222664ec857c0b75ab6e31">iBSP430uptimeAsTimeval</a> (unsigned long utt, struct timeval *tv)</td></tr>
<tr class="separator:gacc50826a19222664ec857c0b75ab6e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ca2a9bd04be064e542473f4157fde06"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga1ca2a9bd04be064e542473f4157fde06">xBSP430uptimeAsPOSIXTime</a> (unsigned long utt)</td></tr>
<tr class="separator:ga1ca2a9bd04be064e542473f4157fde06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga632fda6455467a5e05b9dd9929191321"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp__utility__uptime__epoch.html#ga632fda6455467a5e05b9dd9929191321">iBSP430uptimeProcessNTPResponse</a> (const <a class="el" href="structsBSP430uptimeNTPPacketHeader.html">sBSP430uptimeNTPPacketHeader</a> *req, const <a class="el" href="structsBSP430uptimeNTPPacketHeader.html">sBSP430uptimeNTPPacketHeader</a> *resp, uint64_t rec_ntp, int64_t *adjustment_ntp, long *adjustment_ms, unsigned long *rtt_us)</td></tr>
<tr class="separator:ga632fda6455467a5e05b9dd9929191321"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Support for maintaining a system uptime counter. </p>
<p>This module provides routines to initialize and query a long-term clock, using a platform-selected timer sourced by an undivided ACLK.</p>
<p><a class="el" href="uptime_8h.html#af2ac7fe1f205bed2b6e8e41faa8a43bc">vBSP430uptimeStart_ni()</a> must be invoked on hardware initialization after configuring the system clocks. This is done for you in <a class="el" href="platform_8h.html#a616515ce5e0f7635ca36a815841d2a21">vBSP430platformInitialize_ni()</a> if <a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a> is true.</p>
<p>Normally <a class="el" href="timer_8h.html#a2f1f35990892a20c7ace8c88a1dce998">BSP430_PERIPH_TA0</a> is used for this function, but see <a class="el" href="uptime_8h.html#acbfb3c88912e050b4bb58950f824522c">BSP430_UPTIME_TIMER_PERIPH_CPPID</a> if you want to select a different timer.</p>
<dl class="section warning"><dt>Warning</dt><dd>The capture/compare register for <a class="el" href="timer_8h.html#ad8183989e9233a73453351037bc04c29">BSP430_TIMER_VALID_COUNTER_READ_CCIDX</a> is reserved for use in overflow management. Do not use or reconfigure this register.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__grp__utility__uptime__epoch.html" title="bsp430/utility/uptime.h data structures and functions supporting conversion between civil time and th...">Epoch Support for the Uptime Timer</a></dd></dl>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012-2014, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa3a8d2483ccc30c355cae2f3be6ad547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined to a true value if <a class="el" href="uptime_8h.html#acbfb3c88912e050b4bb58950f824522c">BSP430_UPTIME_TIMER_PERIPH_CPPID</a> has been provided, making the uptime infrastructure available.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a> </dd></dl>
<dl class="section user"><dt>Platform-Based Value:</dt><dd>Undefined here; include &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities. ">bsp430/platform.h</a>&gt; to obtain the correct value of this macro. </dd></dl>

</div>
</div>
<a class="anchor" id="ae47d677ac9443e2e26608ef5278f1a6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_AS_TEXT_LENGTH&#160;&#160;&#160;sizeof(&quot;HHH:MM:SS.mmm&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expected length for a buffer used by <a class="el" href="uptime_8h.html#a1cb1310c769f028347010502456fb918">xBSP430uptimeAsText()</a>.</p>
<p>This macro may be used to allocate such a buffer.</p>
<p>At 32 kiHz resolution a 32-bit integer holding ticks can only represent 36 hours before wrapping, but at 10 kHz resolution the same counter might express up to 119 hours, so this allows durations up to up to 999:59:59.999 to be expressed. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc3000_2cli_2main_8c-example.html#a23">rf/cc3000/cli/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a49">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2venus6pps_2main_8c-example.html#a41">sensors/venus6pps/main.c</a>, and <a class="el" href="utility_2m25p_2main_8c-example.html#a59">utility/m25p/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="abc74e7198f189c84941a73c523863191"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_DELAY_CCIDX&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The capture/compare index to be used for delays.</p>
<p>If <a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> is enabled this capture/compare register index will be used on the uptime timer to support delays using the <a class="el" href="group__grp__timer__alarm.html">Alarm-related Timer Functionality</a> infrastructure.</p>
<dl class="section note"><dt>Note</dt><dd>Most applications should avoid using CC 0 because it is normally reserved for RTOS context switch support, and CC 2 because it is normally used in <a class="el" href="timer_8h.html#a5e250ebcd2e7538ba568455318eede59">uiBSP430timerSafeCounterRead_ni()</a> from <a class="el" href="timer_8h.html#a24b984912d7624627b33023f76c14d31">ulBSP430timerCounter_ni()</a> when <a class="el" href="timer_8h.html#abbc4328b5e870935dd880856eba42648">configBSP430_TIMER_VALID_COUNTER_READ</a> is enabled. The uptime timer is generally asynchronous to MCLK so valid counter reads are critical.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If you assign the same value to <a class="el" href="uptime_8h.html#abc74e7198f189c84941a73c523863191">BSP430_UPTIME_DELAY_CCIDX</a> and <a class="el" href="timer_8h.html#ad8183989e9233a73453351037bc04c29">BSP430_TIMER_VALID_COUNTER_READ_CCIDX</a>, platform initialization will hang attempting to configure the delay alarm.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a592198745fd9e7e43360c14a0f8741b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_DELAY_MS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delay_ms_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm_bits_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">exit_expr_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {   <a class="code" href="core_8h.html#aa45390f99fe6b993083301d3613de4a3">\</a></div>
<div class="line"><a class="code" href="core_8h.html#aa45390f99fe6b993083301d3613de4a3">    BSP430_CORE_SAVED_INTERRUPT_STATE</a>(istate);                          <a class="code" href="core_8h.html#ac381d1a1ade729f63011e7e4db511f61">\</a></div>
<div class="line"><a class="code" href="core_8h.html#ac381d1a1ade729f63011e7e4db511f61">    BSP430_CORE_DISABLE_INTERRUPT</a>();                                    <a class="code" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">\</a></div>
<div class="line"><a class="code" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">    BSP430_UPTIME_DELAY_UTT_NI</a>(<a class="code" href="uptime_8h.html#a463e61b338971a18298935cfca570eb4">BSP430_UPTIME_MS_TO_UTT</a>(delay_ms_), lpm_bits_, exit_expr_); <a class="code" href="core_8h.html#ab2a0adfa112adbcaf1f834165fee15d3">\</a></div>
<div class="line"><a class="code" href="core_8h.html#ab2a0adfa112adbcaf1f834165fee15d3">    BSP430_CORE_RESTORE_INTERRUPT_STATE</a>(istate);                        \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="uptime_8h_html_ad49e6bf8eff19c55b12695672bda525f"><div class="ttname"><a href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI</a></div><div class="ttdeci">#define BSP430_UPTIME_DELAY_UTT_NI(delay_utt_, lpm_bits_, exit_expr_)</div><div class="ttdef"><b>Definition:</b> uptime.h:770</div></div>
<div class="ttc" id="core_8h_html_ab2a0adfa112adbcaf1f834165fee15d3"><div class="ttname"><a href="core_8h.html#ab2a0adfa112adbcaf1f834165fee15d3">BSP430_CORE_RESTORE_INTERRUPT_STATE</a></div><div class="ttdeci">#define BSP430_CORE_RESTORE_INTERRUPT_STATE(state_)</div><div class="ttdef"><b>Definition:</b> core.h:731</div></div>
<div class="ttc" id="uptime_8h_html_a463e61b338971a18298935cfca570eb4"><div class="ttname"><a href="uptime_8h.html#a463e61b338971a18298935cfca570eb4">BSP430_UPTIME_MS_TO_UTT</a></div><div class="ttdeci">#define BSP430_UPTIME_MS_TO_UTT(ms_)</div><div class="ttdef"><b>Definition:</b> uptime.h:335</div></div>
<div class="ttc" id="core_8h_html_aa45390f99fe6b993083301d3613de4a3"><div class="ttname"><a href="core_8h.html#aa45390f99fe6b993083301d3613de4a3">BSP430_CORE_SAVED_INTERRUPT_STATE</a></div><div class="ttdeci">#define BSP430_CORE_SAVED_INTERRUPT_STATE(var_)</div><div class="ttdef"><b>Definition:</b> core.h:719</div></div>
<div class="ttc" id="core_8h_html_ac381d1a1ade729f63011e7e4db511f61"><div class="ttname"><a href="core_8h.html#ac381d1a1ade729f63011e7e4db511f61">BSP430_CORE_DISABLE_INTERRUPT</a></div><div class="ttdeci">#define BSP430_CORE_DISABLE_INTERRUPT()</div><div class="ttdef"><b>Definition:</b> core.h:762</div></div>
</div><!-- fragment --><p>Wrapper around <a class="el" href="uptime_8h.html#a5d852ee2f8f7ec9a52e542cbf8d57c27">BSP430_UPTIME_DELAY_MS_NI()</a> suitable for use when interrupts are enabled.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5d852ee2f8f7ec9a52e542cbf8d57c27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_DELAY_MS_NI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delay_ms_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm_bits_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">exit_expr_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { <a class="code" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">\</a></div>
<div class="line"><a class="code" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">    BSP430_UPTIME_DELAY_UTT_NI</a>(<a class="code" href="uptime_8h.html#a463e61b338971a18298935cfca570eb4">BSP430_UPTIME_MS_TO_UTT</a>(delay_ms_), lpm_bits_, exit_expr_); \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="uptime_8h_html_ad49e6bf8eff19c55b12695672bda525f"><div class="ttname"><a href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI</a></div><div class="ttdeci">#define BSP430_UPTIME_DELAY_UTT_NI(delay_utt_, lpm_bits_, exit_expr_)</div><div class="ttdef"><b>Definition:</b> uptime.h:770</div></div>
<div class="ttc" id="uptime_8h_html_a463e61b338971a18298935cfca570eb4"><div class="ttname"><a href="uptime_8h.html#a463e61b338971a18298935cfca570eb4">BSP430_UPTIME_MS_TO_UTT</a></div><div class="ttdeci">#define BSP430_UPTIME_MS_TO_UTT(ms_)</div><div class="ttdef"><b>Definition:</b> uptime.h:335</div></div>
</div><!-- fragment --><p>Macro to simplify basic delay-in-milliseconds operations.</p>
<p>Wrapper around <a class="el" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI()</a> to support delays specified in milliseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_ms_</td><td>duration, in milliseconds, that application should sleep</td></tr>
    <tr><td class="paramname">lpm_bits_</td><td>as with <a class="el" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI()</a></td></tr>
    <tr><td class="paramname">exit_expr_</td><td>as with <a class="el" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="uptime_8h.html#a463e61b338971a18298935cfca570eb4">BSP430_UPTIME_MS_TO_UTT</a></dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2ds18b20_2main_8c-example.html#a19">sensors/ds18b20/main.c</a>, and <a class="el" href="sensors_2venus6pps_2main_8c-example.html#a45">sensors/venus6pps/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a77db7c5fbf8dace5e30a7a9e9c693adb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_DELAY_UTT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delay_utt_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm_bits_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">exit_expr_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { <a class="code" href="core_8h.html#aa45390f99fe6b993083301d3613de4a3">\</a></div>
<div class="line"><a class="code" href="core_8h.html#aa45390f99fe6b993083301d3613de4a3">    BSP430_CORE_SAVED_INTERRUPT_STATE</a>(istate);                          <a class="code" href="core_8h.html#ac381d1a1ade729f63011e7e4db511f61">\</a></div>
<div class="line"><a class="code" href="core_8h.html#ac381d1a1ade729f63011e7e4db511f61">    BSP430_CORE_DISABLE_INTERRUPT</a>();                                    <a class="code" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">\</a></div>
<div class="line"><a class="code" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">    BSP430_UPTIME_DELAY_UTT_NI</a>(BSP430_UPTIME_UTT_TO_UTT(delay_utt_), lpm_bits_, exit_expr_); <a class="code" href="core_8h.html#ab2a0adfa112adbcaf1f834165fee15d3">\</a></div>
<div class="line"><a class="code" href="core_8h.html#ab2a0adfa112adbcaf1f834165fee15d3">    BSP430_CORE_RESTORE_INTERRUPT_STATE</a>(istate);                        \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="uptime_8h_html_ad49e6bf8eff19c55b12695672bda525f"><div class="ttname"><a href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI</a></div><div class="ttdeci">#define BSP430_UPTIME_DELAY_UTT_NI(delay_utt_, lpm_bits_, exit_expr_)</div><div class="ttdef"><b>Definition:</b> uptime.h:770</div></div>
<div class="ttc" id="core_8h_html_ab2a0adfa112adbcaf1f834165fee15d3"><div class="ttname"><a href="core_8h.html#ab2a0adfa112adbcaf1f834165fee15d3">BSP430_CORE_RESTORE_INTERRUPT_STATE</a></div><div class="ttdeci">#define BSP430_CORE_RESTORE_INTERRUPT_STATE(state_)</div><div class="ttdef"><b>Definition:</b> core.h:731</div></div>
<div class="ttc" id="core_8h_html_aa45390f99fe6b993083301d3613de4a3"><div class="ttname"><a href="core_8h.html#aa45390f99fe6b993083301d3613de4a3">BSP430_CORE_SAVED_INTERRUPT_STATE</a></div><div class="ttdeci">#define BSP430_CORE_SAVED_INTERRUPT_STATE(var_)</div><div class="ttdef"><b>Definition:</b> core.h:719</div></div>
<div class="ttc" id="core_8h_html_ac381d1a1ade729f63011e7e4db511f61"><div class="ttname"><a href="core_8h.html#ac381d1a1ade729f63011e7e4db511f61">BSP430_CORE_DISABLE_INTERRUPT</a></div><div class="ttdeci">#define BSP430_CORE_DISABLE_INTERRUPT()</div><div class="ttdef"><b>Definition:</b> core.h:762</div></div>
</div><!-- fragment --><p>Wrapper around <a class="el" href="uptime_8h.html#ad49e6bf8eff19c55b12695672bda525f">BSP430_UPTIME_DELAY_UTT_NI()</a> suitable for use when interrupts are enabled.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad49e6bf8eff19c55b12695672bda525f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_DELAY_UTT_NI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delay_utt_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm_bits_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">exit_expr_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div>
<div class="line">    unsigned <span class="keywordtype">long</span> wake_utt;                                             \</div>
<div class="line">    wake_utt = <a class="code" href="uptime_8h.html#ab4b2fa8646bfd0856d6a9b095db30e93">ulBSP430uptime_ni</a>() + (delay_utt_);                      \</div>
<div class="line">    while ((! (exit_expr_)) &amp;&amp; (0 &lt; <a class="code" href="uptime_8h.html#ae865c97f202548e80693fef9ffa7893f">lBSP430uptimeSleepUntil</a>(wake_utt, lpm_bits_))) { \</div>
<div class="line">      <span class="comment">/* nop */</span>                                                         \</div>
<div class="line">    }                                                                   \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="uptime_8h_html_ae865c97f202548e80693fef9ffa7893f"><div class="ttname"><a href="uptime_8h.html#ae865c97f202548e80693fef9ffa7893f">lBSP430uptimeSleepUntil</a></div><div class="ttdeci">long lBSP430uptimeSleepUntil(unsigned long setting_utt, unsigned int lpm_bits)</div></div>
<div class="ttc" id="uptime_8h_html_ab4b2fa8646bfd0856d6a9b095db30e93"><div class="ttname"><a href="uptime_8h.html#ab4b2fa8646bfd0856d6a9b095db30e93">ulBSP430uptime_ni</a></div><div class="ttdeci">static BSP430_CORE_INLINE unsigned long ulBSP430uptime_ni(void)</div><div class="ttdef"><b>Definition:</b> uptime.h:361</div></div>
</div><!-- fragment --><p>Macro to simplify basic delay-in-ticks operations</p>
<p>This invokes <a class="el" href="uptime_8h.html#ae865c97f202548e80693fef9ffa7893f">lBSP430uptimeSleepUntil()</a> in a loop for a specified duration or until another event has occurred.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_utt_</td><td>duration, in uptime ticks, that application should sleep</td></tr>
    <tr><td class="paramname">lpm_bits_</td><td>the LPM mode in which the application should sleep. See corresponding parameter in lBSP430uptimeSleepUntil_ni().</td></tr>
    <tr><td class="paramname">exit_expr_</td><td>an expression that will be tested prior to sleeping. If it evaluates to true, the delay will be aborted immediately regardless of remaining time. Pass <code>0</code> if you wish to delay regardless of other activity.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae58cb708c91abec9973d8a4ae912cea8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_DIVIDING_SHIFT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shift value dividing <a class="el" href="uptime_8h.html#a7accd9ef2adfde0ee3c88d5888e1d616">BSP430_UPTIME_TASSEL</a> for the uptime clock.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a463e61b338971a18298935cfca570eb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_MS_TO_UTT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ms_</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="core_8h.html#a9316a29a4688017236770d501848fa18">BSP430_CORE_MS_TO_TICKS</a>((ms_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert from milliseconds to ticks of the uptime timer. </p><dl class="section note"><dt>Note</dt><dd>Evaluation is valid only when the uptime timer is running. The result is rounded down. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="utility_2u8glib_2main_8c-example.html#a7">utility/u8glib/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a7accd9ef2adfde0ee3c88d5888e1d616"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_TASSEL&#160;&#160;&#160;TASSEL_1 /* == TASSEL__ACLK */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Source selector for uptime clock. This should be bits suitable for storage into the TASSEL field of a timer control register. (Note that TASSEL and TBSSEL support the same values; this works when using TBx as well.)</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="acbfb3c88912e050b4bb58950f824522c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_TIMER_PERIPH_CPPID&#160;&#160;&#160;include &quot;bsp430_config.h&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to the preprocessor-compatible identifier for a timer that should be used to maintain a continuous system clock sourced from ACLK. The define must appear in the <a class="el" href="bsp430_config.html">BSP430 Configuration</a> subsystem so that functional resource requests are correctly propagated to the underlying resource instances.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl class="section user"><dt>Platform-Based Value:</dt><dd>Undefined here; include &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities. ">bsp430/platform.h</a>&gt; to obtain the correct value of this macro. </dd></dl>
<dl class="section user"><dt>Affects:</dt><dd><a class="el" href="uptime_8h.html#a6d4b3ca225b4057be8a5c6f05de6eb7e">BSP430_UPTIME_TIMER_PERIPH_HANDLE</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6d4b3ca225b4057be8a5c6f05de6eb7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_TIMER_PERIPH_HANDLE&#160;&#160;&#160;platform or application specific</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined to the peripheral identifier for a timer that can be used to maintain a continuous system clock sourced from ACLK. This derives directly from <a class="el" href="uptime_8h.html#acbfb3c88912e050b4bb58950f824522c">BSP430_UPTIME_TIMER_PERIPH_CPPID</a>, but is a timer peripheral handle suitable for use in code.</p>
<p>The corresponding HAL and primary ISR features are automatically enabled for this peripheral. CC0 ISR inclusion is influenced by <a class="el" href="group__grp__config__functional.html#gaa14b0b52fb6f36c07294924bea45b36a">configBSP430_UPTIME_TIMER_HAL_CC0_ISR</a>.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#acbfb3c88912e050b4bb58950f824522c">BSP430_UPTIME_TIMER_PERIPH_CPPID</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a27">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2venus6pps_2main_8c-example.html#a25">sensors/venus6pps/main.c</a>, <a class="el" href="utility_2cli_2main_8c-example.html#a52">utility/cli/main.c</a>, and <a class="el" href="utility_2u8glib_2main_8c-example.html#a11">utility/u8glib/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a7f9ae9139f8a4415f489870b8b07f3eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_US_TO_UTT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">us_</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="core_8h.html#a219559446b71e4adfab17e300c0c1ecb">BSP430_CORE_US_TO_TICKS</a>((us_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert from microseconds to ticks of the uptime timer. </p><dl class="section note"><dt>Note</dt><dd>Evaluation is valid only when the uptime timer is running. The result is rounded down. </dd></dl>

</div>
</div>
<a class="anchor" id="a3cde1e0939c712781836c79428c5996d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_UTT_TO_MS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">utt_</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="core_8h.html#a5c82432f5b308110619c93d2ee32e892">BSP430_CORE_TICKS_TO_MS</a>((utt_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert from ticks of the uptime timer to milliseconds. </p><dl class="section note"><dt>Note</dt><dd>Evaluation is valid only when the uptime timer is running. The result is rounded down. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2ds18b20_2main_8c-example.html#a24">sensors/ds18b20/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a9287c5663ef4d656b76bbb3ece7b7658"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_UTT_TO_US</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">utt_</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="core_8h.html#a3f5213f6fd15b49cb3a6e0b511ba6787">BSP430_CORE_TICKS_TO_US</a>((utt_), <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert from ticks of the uptime timer to microseconds. </p><dl class="section note"><dt>Note</dt><dd>Evaluation is valid only when the uptime timer is running. The result is rounded down. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d11620036fe41e9f4fca30676e4d821"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_UPTIME&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to enable the uptime infrastructure to maintain a continuous system clock. A timer that will support this must be identified; see <a class="el" href="uptime_8h.html#acbfb3c88912e050b4bb58950f824522c">BSP430_UPTIME_TIMER_PERIPH_CPPID</a>.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Affects:</dt><dd><a class="el" href="uptime_8h.html#aa3a8d2483ccc30c355cae2f3be6ad547">BSP430_UPTIME</a> </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="adb0fd811e867799ad7873f867c67dbd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_UPTIME_DELAY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to support uptime-driven delays.</p>
<p>This flag enables infrastructure support to use the <a class="el" href="group__grp__timer__alarm.html">Alarm-related Timer Functionality</a> infrastructure on the uptime timer to support application delays. The core API for this capability is <a class="el" href="uptime_8h.html#ae865c97f202548e80693fef9ffa7893f">lBSP430uptimeSleepUntil()</a> and <a class="el" href="uptime_8h.html#a5d852ee2f8f7ec9a52e542cbf8d57c27">BSP430_UPTIME_DELAY_MS_NI()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Applications that use the delay functionality should normally enable <a class="el" href="core_8h.html#afdd85450dfaf0dd630d60220d7f3ec1a">configBSP430_CORE_LPM_EXIT_CLEAR_GIE</a>. See discussion at <a class="el" href="uptime_8h.html#ae865c97f202548e80693fef9ffa7893f">lBSP430uptimeSleepUntil()</a>.</dd></dl>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a61dba25c9c2606cf5acb2595c5162d42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_UPTIME_EPOCH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to support uptime timer epochs.</p>
<p>This flag enables infrastructure support to use the <a class="el" href="group__grp__utility__uptime__epoch.html">Epoch Support for the Uptime Timer</a> infrastructure to translate between civil time values such as UTC (represented as NTP timestamps or <code>struct timeval</code>) and uptime clocks, by providing a precise epoch that denotes the time at which the uptime timer last rolled over.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__grp__utility__uptime__epoch.html" title="bsp430/utility/uptime.h data structures and functions supporting conversion between civil time and th...">Epoch Support for the Uptime Timer</a></dd></dl>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a48e8a2fa577b5ad45b0fdd51c035aefd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a>  <a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A structure to record the relative levels of activity and sleep.</p>
<p>Primarily this can be used to calculate the duty cycle of an application. This infrastructure assumes that the uptime clock runs continuously, including in sleep mode, and that no active or sleep period exceeds the duration representable in an unsigned long.</p>
<dl class="section see"><dt>See also</dt><dd>vBSP430uptimeActivityInitialize() </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af4a8427196f37f2adf160c96aebf5d09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> bool bBSP430uptimeIsValid </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>duration_utt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine whether an uptime value is valid.</p>
<p>In some contexts, a clock value of zero may be used used to indicate an unassigned value, and a clock value of ~0UL is used to indicate an assigned invalid value. Determine whether the provided time is valid (i.e., not one of these reserved identifying values).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="uptime_8h.html#a9e6486f1125dcdc03b82296312abea93">ulBSP430uptimeValidated()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9dea5efac11cf472a643af6c03929fdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> <a class="el" href="timer_8h.html#a05821bb5b9c3c49fbc7ced58b7a4eaa8">hBSP430halTIMER</a> hBSP430uptimeTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get access to the timer controlling the uptime infrastructure.</p>
<p>You might need this if you want to hook into its callbacks.</p>
<p>Don't hook into the overflow callback, please. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a40">sensors/hh10d/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a6c6478a3b6c67d2b0d1cee284f7d69c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iBSP430uptimeDelaySetEnabled_ni </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enablep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable the alarm used by ulBSP430uptimeDelayUntil().</p>
<p>This delegates to <a class="el" href="group__grp__timer__alarm.html#gaf78fc60de828bc03bb7c93624f384ef1">iBSP430timerAlarmSetEnabled_ni()</a>.</p>
<p>The alarm is enabled by vBSp430uptimeStart_ni() if <a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> is enabled.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae865c97f202548e80693fef9ffa7893f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lBSP430uptimeSleepUntil </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>setting_utt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>lpm_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sleep until the uptime timer reaches a particular value.</p>
<p>This uses <a class="el" href="uptime_8h.html#abc74e7198f189c84941a73c523863191">BSP430_UPTIME_DELAY_CCIDX</a> and the <a class="el" href="group__grp__timer__alarm.html">Alarm-related Timer Functionality</a> to sleep until either a specific time has been reached or an interrupt wakes the processor.</p>
<dl class="section note"><dt>Note</dt><dd>Interrupts are enabled during this sleep, and an interrupt unrelated to the wakeup alarm will cause an early return. If such an interrupt does not clear <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a> on exit there will be a short window between wakeup and when this function clears <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a> again in which additional interrupts may execute. See <a class="el" href="enhanced.html#enh_interrupts">Interrupts and Critical Sections</a>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function may enable interrupts and sleep until its completion conditions are met.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setting_utt</td><td>The uptime counter value at which the application wishes to be awakened if no events have occured before then. Note that the call is a wrapper around <a class="el" href="group__grp__timer__alarm.html#ga691c60553180266436fbea9a9a8bfed7">iBSP430timerAlarmSet_ni()</a> and may return immediately with an error result if the specified time appears to be in the past.</td></tr>
    <tr><td class="paramname">lpm_bits</td><td>The bits to be set in the status register to control the low power mode used while awaiting the wakeup time. A value such as <a class="el" href="msp430_8h.html#a44fde789b84d1b15c41e577d6a080eff">LPM0_bits</a> or <a class="el" href="msp430_8h.html#a8af1e5b3633693d9439d284100183004">LPM2_bits</a> should be used depending on application needs. <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a> will be added to these bits.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Consider whether the LPM mode might disable the clock or timer on which the wakeup depends. In many recent MCUs the LPM mode will be internally masked to ensure this does not happen. However, on 4xx MCUs setting <a class="el" href="msp430_8h.html#a97eaedd508e6f77e34a49433f8e9e2eb">LPM4_bits</a> when ACLK drives the uptime timer will cause the system to hang. Use <a class="el" href="msp430_8h.html#ae8217664a1729103e247c6984d1744cc">LPM3_bits</a> as a default when only the delay is important.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of timer ticks remaining until the originally-requested time. If an error occurs, a zero value will be returned. There is no facility to tell whether wakeup occurred due to the alarm or another interrupt, except that if the return value is positive it is likely another interrupt is the cause.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The function is not implemented unless <a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> is enabled.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function does not diagnose specific errors such as invoking it while the uptime timer or the delay alarm are disabled.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#adb0fd811e867799ad7873f867c67dbd3">configBSP430_UPTIME_DELAY</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acb855b7a69680ea04f0bc399ee312ae6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned int uiBSP430uptimeActivity_ppt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the per-mille activity measure.</p>
<p>This is the ratio of total active time to total time, expressed as parts-per-thousand. The value is rounded to the nearest integer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sp</td><td>pointer to the activity record. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aab05faa2cb7543ab1532ae80f0f3fd4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned int uiBSP430uptimeCounter_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the low word of the system uptime counter.</p>
<p>This is suitable for use by applications that wish to configure capture/compare registers on <a class="el" href="uptime_8h.html#a9dea5efac11cf472a643af6c03929fdf">hBSP430uptimeTimer()</a>. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a43">sensors/hh10d/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae11686ce1c2041691d6170d54e308676"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int uiBSP430uptimeScaleForDisplay </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>duration_utt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>unitp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a duration in ticks to a scaled value suitable for display.</p>
<p>This is useful when the code needs to accommodate a wide range of times, from microseconds to hours. The duration value is scaled to reduce the number of digits required to represent it, and the selected unit specifier returned in an output parameter. The cutoff for each unit is:</p>
<table class="doxtable">
<tr>
<th align="left">Time </th><th align="left">Units  </th></tr>
<tr>
<td align="left">&lt; 10ms </td><td align="left">us </td></tr>
<tr>
<td align="left">&lt; 10s </td><td align="left">ms </td></tr>
<tr>
<td align="left">&lt; 3min </td><td align="left">s </td></tr>
<tr>
<td align="left">&lt; 3h </td><td align="left">min </td></tr>
<tr>
<td align="left">&gt;= 3h </td><td align="left">h </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration_utt</td><td>a count in ticks</td></tr>
    <tr><td class="paramname">unitp</td><td>a pointer to where to store the standard unit description for the scaled value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the duration expressed in units, rounded down to a whole number. </dd></dl>

</div>
</div>
<a class="anchor" id="a7e0b8aeba63d7b2ce965a650125eb8ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long ulBSP430uptime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the system uptime in clock ticks. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="periph_2timer_2alarm_2main_8c-example.html#a45">periph/timer/alarm/main.c</a>, and <a class="el" href="utility_2m25p_2main_8c-example.html#a6">utility/m25p/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ab4b2fa8646bfd0856d6a9b095db30e93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long ulBSP430uptime_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return system uptime in clock ticks with disabled interrupts.</p>
<dl class="section note"><dt>Note</dt><dd>The returned value is adjusted for a single pending overflow event that occurs while interrupts are disabled, but will be wrong if interrupts remain disabled long enough for a second overflow to occur. See <a class="el" href="timer_8h.html#a24b984912d7624627b33023f76c14d31">ulBSP430timerCounter_ni()</a> for details.</dd></dl>
<p><a class="el" href="timer_8h.html#a381b6669a4c008a40d74947890f1e463">vBSP430timerSafeCounterInitialize_ni()</a> will have been called on <a class="el" href="uptime_8h.html#a6d4b3ca225b4057be8a5c6f05de6eb7e">BSP430_UPTIME_TIMER_PERIPH_HANDLE</a> so <a class="el" href="timer_8h.html#ad8183989e9233a73453351037bc04c29">BSP430_TIMER_VALID_COUNTER_READ_CCIDX</a> is reserved to support accurate counter reads. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a60">bootstrap/applpm/main.c</a>, <a class="el" href="rf_2cc3000_2cli_2main_8c-example.html#a0">rf/cc3000/cli/main.c</a>, <a class="el" href="sensors_2ds18b20_2main_8c-example.html#a7">sensors/ds18b20/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a53">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2venus6pps_2main_8c-example.html#a47">sensors/venus6pps/main.c</a>, <a class="el" href="utility_2cli_2main_8c-example.html#a14">utility/cli/main.c</a>, and <a class="el" href="utility_2u8glib_2main_8c-example.html#a14">utility/u8glib/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a4be2d8e43ecbecf517a452b430ecf029"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ulBSP430uptimeConversionFrequency_Hz </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the uptime clock conversion frequency.</p>
<p>This is the number of uptime ticks in a standard second, and is used when translating between tick measurements and second-based durations. The default value is the estimated frequency of the timer underlying the uptime clock (per <a class="el" href="timer_8h.html#a6bbdf693689d7631cbada96054c065f8">ulBSP430timerFrequency_Hz_ni()</a>), but this may be overridden by <a class="el" href="uptime_8h.html#aa3bacc5bf6eeb96037f3470fa3ac9c5c">ulBSP430uptimeSetConversionFrequency_ni()</a> when a more accurate estimate of actual frequency is available.</p>
<p>This value is set when <a class="el" href="uptime_8h.html#af2ac7fe1f205bed2b6e8e41faa8a43bc">vBSP430uptimeStart_ni()</a> or <a class="el" href="uptime_8h.html#af8e943e205552a5c9aa1532ca1347b0b">vBSP430uptimeResume_ni()</a> are invoked. Its value is undefined when the uptime timer is stopped. Reconfiguration of the timer source or the underlying clock while the timer is running may invalidate its value.</p>
<dl class="section return"><dt>Returns</dt><dd>The conversion frequency of the uptime clock, in Hz. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2ds18b20_2main_8c-example.html#a8">sensors/ds18b20/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a8">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2venus6pps_2main_8c-example.html#a17">sensors/venus6pps/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a36">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="aa3bacc5bf6eeb96037f3470fa3ac9c5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ulBSP430uptimeSetConversionFrequency_ni </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>frequency_Hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the uptime frequency that will be used for tick/time conversion.</p>
<p>In cases where the uptime clock derives from <a class="el" href="clock_8h.html#afad775d35ca969034172f0955cf1bcdaad127090299761a8dbd1b8248b7ab2c0e">VLOCLK</a>, the nominal frequency used by default may be off by as much as 10% from the actual frequency. This function can be used when a more accurate estimate of actual frequency is available to decrease the error in converted times.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency_Hz</td><td>the frequency to be used when converting durations in ticks to durations in seconds or related units. If a value of zero is provided, the current nominal frequency will be used in subsequent conversions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value of the conversion frequency, which may be 0 if no conversions had occured. </dd></dl>

</div>
</div>
<a class="anchor" id="a9e6486f1125dcdc03b82296312abea93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long ulBSP430uptimeValidated </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>duration_utt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjust a timestamp if necessary to make it valid.</p>
<p>If the value of the timestamp happens to match one of the reserved invalid values, invert the least significant bit so the value is a valid time, albeit off by one tick.</p>
<p>(A legitimate uptime clock will coincidently match one of the invalid values only for two clock ticks at each 32-bit uptime clock rollover.)</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="uptime_8h.html#af4a8427196f37f2adf160c96aebf5d09">bBSP430uptimeIsValid()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a992dc6ac950c1ad63c79795aa604f1ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long long ullBSP430uptime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the system uptime in clock ticks at its full precision</p>
<p>This incorporates the overflow and the current counter. On the MSP430 the result is expected to be a 64-bit value of which the low 48-bits are valid. </p>

</div>
</div>
<a class="anchor" id="a43b41f0a9d48607ffaa2ff3c07facaff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> unsigned long long ullBSP430uptimeCorrected </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ctr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjust a captured 16-bit counter to a full resolution timestamp.</p>
<p>This obtains the current time, then adjusts it backwards to be the most recent time for which the low 16 bits match <code>ctr</code>. The result should be a 48-bit timestamp expressed in a 64-bit unsigned integer.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="timer_8h.html#ac914c6cee914fcf8fffab8317b5168ed">ullBSP430timerCorrected()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad471645985eedc1c36ea7233cd57a0e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430uptimeActivityReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>from_now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize state to record activity levels.</p>
<p>This can be used to measure the amount of time spent in active and sleep modes, with the following pattern:</p>
<div class="fragment"><div class="line">sBSP430uptimeActivityTotals busy;</div>
<div class="line">// initialize the application</div>
<div class="line">vBSP430uptimeActivityReset(&amp;busy, false);</div>
<div class="line">while (1) {</div>
<div class="line">  // do stuff</div>
<div class="line">  BSP430_CORE_DISABLE_INTERRUPT();</div>
<div class="line">  if (go_to_sleep) {</div>
<div class="line">    vBSP430uptimeActivityStartSleep_ni(&amp;busy);</div>
<div class="line">    BSP430_CORE_LPM_ENTER_NI(LPM4_bits);</div>
<div class="line">    vBSP430uptimeActivityStartActive_ni(&amp;busy);</div>
<div class="line">  } else {</div>
<div class="line">    BSP430_CORE_ENABLE_INTERRUPT();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>See <a class="el" href="uptime_8h.html#acb855b7a69680ea04f0bc399ee312ae6">uiBSP430uptimeActivity_ppt()</a> for extracting the basic duty cycle ratio.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sp</td><td>pointer to the activity record to initialize</td></tr>
    <tr><td class="paramname">from_now</td><td>whether accounting should start from now. Passing <code>false</code> is normal, and counts active durations from power-up. If the application initialization code should be excluded, pass <code>true</code> to set the last sleep and wake to the current time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af41d0dfe242255bc0e5eaee2406b9e4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void vBSP430uptimeActivityStartActive_ni </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Record activity times after waking from sleep mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sp</td><td>pointer to the activity record.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="uptime_8h.html#ad471645985eedc1c36ea7233cd57a0e6">vBSP430uptimeActivityReset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af299837561fe4767f18587b592b538d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> void vBSP430uptimeActivityStartSleep_ni </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsBSP430uptimeActivityTotals.html">sBSP430uptimeActivityTotals</a> *&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Record activity times prior to entering sleep mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sp</td><td>pointer to the activity record.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="uptime_8h.html#ad471645985eedc1c36ea7233cd57a0e6">vBSP430uptimeActivityReset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af8e943e205552a5c9aa1532ca1347b0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430uptimeResume_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resume the system uptime clock</p>
<p>The clocks are re-enabled to continue counting from their last recorded value. Also, the conversion frequency used by <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz()</a> is updated based on the current timer configuration. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a71">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="af2ac7fe1f205bed2b6e8e41faa8a43bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430uptimeStart_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure the system uptime clock.</p>
<p>The timer associated with the uptime clock is reset to zero and begins counting up.</p>
<dl class="section warning"><dt>Warning</dt><dd>This should be invoked once, normally by <a class="el" href="platform_8h.html#a616515ce5e0f7635ca36a815841d2a21">vBSP430platformInitialize_ni()</a>. Invoking it a second time may result in undefined behavior. Use <a class="el" href="uptime_8h.html#a62fc249f2c4699ab77b408e3488ca4b5">vBSP430uptimeSuspend_ni()</a> and <a class="el" href="uptime_8h.html#af8e943e205552a5c9aa1532ca1347b0b">vBSP430uptimeResume_ni()</a> to turn the uptime timer off and on. </dd></dl>

</div>
</div>
<a class="anchor" id="a62fc249f2c4699ab77b408e3488ca4b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430uptimeSuspend_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Suspend the system uptime clock.</p>
<p>Suspension means that the clocks are halted and interrupts from them inhibited. Counter values are not modified. <a class="el" href="uptime_8h.html#af8e943e205552a5c9aa1532ca1347b0b">vBSP430uptimeResume_ni</a> should be invoked to release the clocks to continue counting.</p>
<p>The system clock may be suspended prior to entering certain low power modes. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a64">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a1cb1310c769f028347010502456fb918"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* xBSP430uptimeAsText </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>duration_utt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert an uptime count to text HHH:MM:SS.mmm format.</p>
<p>At least the MM:SS.mmm portion is present, with minutes space-padded on the left. If the duration exceeds 59:59.999, then space-padded hours will be included as well, and minutes will be zero-padded.</p>
<p>The conversion factor from <a class="el" href="uptime_8h.html#a4be2d8e43ecbecf517a452b430ecf029">ulBSP430uptimeConversionFrequency_Hz()</a> is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration_utt</td><td>a duration in uptime ticks</td></tr>
    <tr><td class="paramname">buffer</td><td>a pointer to a buffer large enough to hold the represented data, normally <a class="el" href="uptime_8h.html#ae47d677ac9443e2e26608ef5278f1a6d">BSP430_UPTIME_AS_TEXT_LENGTH</a> characters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>buffer</code> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rf_2cc3000_2cli_2main_8c-example.html#a24">rf/cc3000/cli/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a57">sensors/hh10d/main.c</a>, <a class="el" href="sensors_2venus6pps_2main_8c-example.html#a49">sensors/venus6pps/main.c</a>, and <a class="el" href="utility_2m25p_2main_8c-example.html#a60">utility/m25p/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a790fc3c41c4a8e93ec7caca7825733c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* xBSP430uptimeAsText_ni </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>duration_utt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert an uptime count to text HH:MM:SS.mmm format in a static buffer.</p>
<p>Invokes <a class="el" href="uptime_8h.html#a1cb1310c769f028347010502456fb918">xBSP430uptimeAsText()</a> with a static 14-character buffer adequate for representing durations up to 999:59:59.999 in contexts where allocating storage is problematic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration_utt</td><td>see <a class="el" href="uptime_8h.html#a1cb1310c769f028347010502456fb918">xBSP430uptimeAsText()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the static storage holding the formatted time.</dd></dl>
<dl class="section user"><dt>Deprecated:</dt><dd>Legacy interface, use <a class="el" href="uptime_8h.html#a1cb1310c769f028347010502456fb918">xBSP430uptimeAsText()</a>. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="periph_2timer_2alarm_2main_8c-example.html#a44">periph/timer/alarm/main.c</a>, <a class="el" href="rf_2cc3000_2cli_2main_8c-example.html#a2">rf/cc3000/cli/main.c</a>, <a class="el" href="sensors_2ds18b20_2main_8c-example.html#a25">sensors/ds18b20/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a13">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 15 2014 11:27:13 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
