<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>BSP430: include/bsp430/periph/bc2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20141115</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_62ed61ea3473d085a8b2bf70053df4f0.html">include</a></li><li class="navelem"><a class="el" href="dir_7c92f3a74acfd272e55b8e8273858819.html">bsp430</a></li><li class="navelem"><a class="el" href="dir_19e4f19d9de152fbe2728cd5df77a8c2.html">periph</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bc2.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware presentation/abstraction for Basic Clock Module+ (BC2).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="clock_8h_source.html">bsp430/clock.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="periph_8h_source.html">bsp430/periph.h</a>&gt;</code><br />
</div>
<p><a href="bc2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8c2244a0754bddf775d1c4a0f79b8c82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a8c2244a0754bddf775d1c4a0f79b8c82">BSP430_MODULE_BC2</a>&#160;&#160;&#160;defined(__MSP430_HAS_BC2__)</td></tr>
<tr class="separator:a8c2244a0754bddf775d1c4a0f79b8c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfe6f32391ffebb454ac32609505a80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a4cfe6f32391ffebb454ac32609505a80">configBSP430_BC2_TRIM_TO_MCLK</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a4cfe6f32391ffebb454ac32609505a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9263146121baf3bb2cfe973ef4fde8da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a9263146121baf3bb2cfe973ef4fde8da">BSP430_BC2_TRIM_TO_MCLK</a>&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td></tr>
<tr class="separator:a9263146121baf3bb2cfe973ef4fde8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090b79e6d883a1f7579c2a77f526f23c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a090b79e6d883a1f7579c2a77f526f23c">BSP430_BC2_LFXT1_IS_FAULTED_NI</a>()&#160;&#160;&#160;(BCSCTL3 &amp; BSP430_BC2_LFXT1OF_)</td></tr>
<tr class="separator:a090b79e6d883a1f7579c2a77f526f23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2366626addc8e36f6176e3fca2c549d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#af2366626addc8e36f6176e3fca2c549d">BSP430_BC2_XT2_IS_FAULTED_NI</a>()&#160;&#160;&#160;(BC2CTL3 &amp; BSP430_BC2_XT2OF_)</td></tr>
<tr class="separator:af2366626addc8e36f6176e3fca2c549d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0cdc169aac90a5c877b3ca09a4608d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a7a0cdc169aac90a5c877b3ca09a4608d">BSP430_CLOCK_LFXT1_IS_FAULTED_NI</a>()&#160;&#160;&#160;((BCSCTL3 &amp; (LFXT1S0 | LFXT1S1)) || <a class="el" href="bc2_8h.html#a090b79e6d883a1f7579c2a77f526f23c">BSP430_BC2_LFXT1_IS_FAULTED_NI</a>())</td></tr>
<tr class="separator:a7a0cdc169aac90a5c877b3ca09a4608d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad464616a6b90463f1eae80399c34905"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#aad464616a6b90463f1eae80399c34905">BSP430_CLOCK_XT2_IS_FAULTED_NI</a>()&#160;&#160;&#160;((BCSCTL1 &amp; XT2OFF) || <a class="el" href="bc2_8h.html#af2366626addc8e36f6176e3fca2c549d">BSP430_BC2_XT2_IS_FAULTED_NI</a>())</td></tr>
<tr class="separator:aad464616a6b90463f1eae80399c34905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a193ffc3b8d68bc1ec72dbeb887061af2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a193ffc3b8d68bc1ec72dbeb887061af2">BSP430_CLOCK_CLEAR_FAULTS_NI</a>()</td></tr>
<tr class="separator:a193ffc3b8d68bc1ec72dbeb887061af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4253e74bf9b15ba67fac82790ec629f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#ab4253e74bf9b15ba67fac82790ec629f">BSP430_CLOCK_LFXT1_XCAP</a>&#160;&#160;&#160;<a class="el" href="msp430_8h.html#af0c275c45d19c84f5edf7d7148935d95">XCAP_1</a></td></tr>
<tr class="separator:ab4253e74bf9b15ba67fac82790ec629f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ace757e68c3bc4206f0ff4a3a39d13"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#ae2ace757e68c3bc4206f0ff4a3a39d13">BSP430_CLOCK_NOMINAL_VLOCLK_HZ</a>&#160;&#160;&#160;12000U</td></tr>
<tr class="separator:ae2ace757e68c3bc4206f0ff4a3a39d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24c49529cfa0ba1ada6819dfe6c5d68e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a24c49529cfa0ba1ada6819dfe6c5d68e">BSP430_CLOCK_PUC_MCLK_HZ</a>&#160;&#160;&#160;1100000UL</td></tr>
<tr class="separator:a24c49529cfa0ba1ada6819dfe6c5d68e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a761fecab60615a591909cef0bc74121b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bc2_8h.html#a761fecab60615a591909cef0bc74121b">iBSP430bc2TrimToMCLK_ni</a> (unsigned long mclk_Hz)</td></tr>
<tr class="separator:a761fecab60615a591909cef0bc74121b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Hardware presentation/abstraction for Basic Clock Module+ (BC2). </p>
<p>The BC2 ("Basic Clock Module+") peripheral is present in 2xx-family devices.</p>
<h1><a class="anchor" id="h_periph_bc2_opt"></a>
Module Configuration Options</h1>
<ul>
<li><a class="el" href="bc2_8h.html#a4cfe6f32391ffebb454ac32609505a80">configBSP430_BC2_TRIM_TO_MCLK</a></li>
</ul>
<h1><a class="anchor" id="h_periph_bc2_hpl"></a>
Hardware Presentation Layer</h1>
<p>As there can be only one instance of BC2 on any MCU, there is no structure supporting a BC2 HPL. Manipulate the peripheral through its registers directly.</p>
<h1><a class="anchor" id="h_periph_bc2_hal"></a>
Hardware Adaptation Layer</h1>
<p>As there can be only one instance of BC2 on any MCU, there is no structure supporting a BC2 HAL.</p>
<p>The standard set of capabilities in the bsp430/clocks.h header are supported, with the following details:</p>
<ul>
<li>For <a class="el" href="clock_8h.html#a538f01f39cf54267229fe04877d3185e">ulBSP430clockConfigureMCLK_ni()</a> the only recognized frequencies are 1 MHz, 8 MHz, 12 MHz, and 16 MHz. Availability of <h1>* a given frequency depends on the specific MCU having</h1>
</li>
</ul>
<p>factory-calibrated constants supporting that frequency. The selected frequency may be above or below the requested frequency, but will be the closest supported by available calibrated clocks.</p>
<ul>
<li>Dependent on <a class="el" href="bc2_8h.html#a4cfe6f32391ffebb454ac32609505a80">configBSP430_BC2_TRIM_TO_MCLK</a> the requested frequency may be reached through calibration process executed during <a class="el" href="clock_8h.html#a538f01f39cf54267229fe04877d3185e">ulBSP430clockConfigureMCLK_ni()</a>.</li>
</ul>
<ul>
<li>The implementation assumes that MCLK and SMCLK are both sourced from DCOCLK.</li>
</ul>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012-2014, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a090b79e6d883a1f7579c2a77f526f23c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_BC2_LFXT1_IS_FAULTED_NI</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(BCSCTL3 &amp; BSP430_BC2_LFXT1OF_)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>BC2-specific check for LFXT1 crystal fault condition.</p>
<p>This checks exactly for the fault condition.</p>
<dl class="section warning"><dt>Warning</dt><dd>On this platform the fault flags are read-only and may clear themselves. If a fault is detected after steps have been taken to enable the crystal, the peripheral should be reconfigured to explicitly avoid referencing the crystal lest it begin functioning and change system behavior.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>A crystal that has never been enabled will not register as faulted. </dd></dl>

</div>
</div>
<a class="anchor" id="a9263146121baf3bb2cfe973ef4fde8da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_BC2_TRIM_TO_MCLK&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined to a true value if <a class="el" href="bc2_8h.html#a4cfe6f32391ffebb454ac32609505a80">configBSP430_BC2_TRIM_TO_MCLK</a> was requested and <a class="el" href="group__grp__timer__ccaclk.html#gafaa65b8c2e6832c51e73ab8c929af856">BSP430_TIMER_CCACLK</a> is available on the platform.</p>
<p>In the absence of this flag, <a class="el" href="bc2_8h.html#a761fecab60615a591909cef0bc74121b">iBSP430bc2TrimToMCLK_ni()</a> will not be available and must not be referenced.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="bc2_8h.html#a4cfe6f32391ffebb454ac32609505a80">configBSP430_BC2_TRIM_TO_MCLK</a>, <a class="el" href="group__grp__timer__ccaclk.html#gafaa65b8c2e6832c51e73ab8c929af856">BSP430_TIMER_CCACLK</a> </dd></dl>
<dl class="section user"><dt>Platform-Based Value:</dt><dd>Undefined here; include &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities. ">bsp430/platform.h</a>&gt; to obtain the correct value of this macro. </dd></dl>

</div>
</div>
<a class="anchor" id="af2366626addc8e36f6176e3fca2c549d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_BC2_XT2_IS_FAULTED_NI</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(BC2CTL3 &amp; BSP430_BC2_XT2OF_)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>BC2-specific check for XT2 crystal fault condition.</p>
<p>If the platform does not support an XT2 crystal no fault is diagnosed.</p>
<dl class="section warning"><dt>Warning</dt><dd>On this platform the fault flags are read-only and may clear themselves. If a fault is detected after steps have been taken to enable the crystal, the peripheral should be reconfigured to explicitly avoid referencing the crystal lest it begin functioning and change system behavior.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>A crystal that has never been enabled will not register as faulted. </dd></dl>

</div>
</div>
<a class="anchor" id="a193ffc3b8d68bc1ec72dbeb887061af2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CLOCK_CLEAR_FAULTS_NI</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                             <a class="code" href="clock_8h.html#a7c4dd20d76d5e9aab4a7f59c315706c7">\</a></div>
<div class="line"><a class="code" href="clock_8h.html#a7c4dd20d76d5e9aab4a7f59c315706c7">    BSP430_CLOCK_OSC_CLEAR_FAULT_NI</a>();                                  \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="clock_8h_html_a7c4dd20d76d5e9aab4a7f59c315706c7"><div class="ttname"><a href="clock_8h.html#a7c4dd20d76d5e9aab4a7f59c315706c7">BSP430_CLOCK_OSC_CLEAR_FAULT_NI</a></div><div class="ttdeci">#define BSP430_CLOCK_OSC_CLEAR_FAULT_NI()</div><div class="ttdef"><b>Definition:</b> clock.h:230</div></div>
</div><!-- fragment --><p>Clear all clock faults.</p>
<p>The BC2 oscillator fault flags are read-only, so this only clears the system oscillator flag.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a7a0cdc169aac90a5c877b3ca09a4608d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CLOCK_LFXT1_IS_FAULTED_NI</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((BCSCTL3 &amp; (LFXT1S0 | LFXT1S1)) || <a class="el" href="bc2_8h.html#a090b79e6d883a1f7579c2a77f526f23c">BSP430_BC2_LFXT1_IS_FAULTED_NI</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the BC2-controlled LFXT1 crystal has a fault condition.</p>
<dl class="section note"><dt>Note</dt><dd>Unlike most other MSP430 clock peripherals, MCUs with BC2 power-up with the crystal pins in their peripheral mode and with the external crystal selected as the LFXT1 source. However, the fault flag is still valid only if the external crystal is selected. This check will indicate a fault if one is present, or if the LFXT1 source is not the external crystal.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>On this platform the fault flags are read-only and may clear themselves. If a fault is detected after steps have been taken to enable the crystal, the peripheral should be reconfigured to explicitly avoid referencing the crystal lest it begin functioning and change system behavior.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="bc2_8h.html#a090b79e6d883a1f7579c2a77f526f23c">BSP430_BC2_LFXT1_IS_FAULTED_NI()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab4253e74bf9b15ba67fac82790ec629f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CLOCK_LFXT1_XCAP&#160;&#160;&#160;<a class="el" href="msp430_8h.html#af0c275c45d19c84f5edf7d7148935d95">XCAP_1</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Peripheral default setting for platform-specific constant </p>

</div>
</div>
<a class="anchor" id="ae2ace757e68c3bc4206f0ff4a3a39d13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CLOCK_NOMINAL_VLOCLK_HZ&#160;&#160;&#160;12000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unconditional define for peripheral-specific constant </p>

</div>
</div>
<a class="anchor" id="a24c49529cfa0ba1ada6819dfe6c5d68e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CLOCK_PUC_MCLK_HZ&#160;&#160;&#160;1100000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unconditional define for peripheral-specific constant </p>

</div>
</div>
<a class="anchor" id="aad464616a6b90463f1eae80399c34905"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CLOCK_XT2_IS_FAULTED_NI</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((BCSCTL1 &amp; XT2OFF) || <a class="el" href="bc2_8h.html#af2366626addc8e36f6176e3fca2c549d">BSP430_BC2_XT2_IS_FAULTED_NI</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the BC2-controlled XT2 crystal has a fault condition.</p>
<dl class="section note"><dt>Note</dt><dd>Oscillator fault flags are not set unless a fault has been detected. If the crystal has never been enabled, no fault will have been detected. On power-up, the XT2IN function is not enabled and BCSCTL1.XT2OFF is set, and BSP430 treats BCSCTL1.XT2OFF as an indication that the pins are not configured for crystal use, either because XT2 has not been configured or has been configured and found to be faulted. Although it is perfectly acceptable to have BCSCTL1.XT2OFF set and the crystal working fine, the complexity of detecting that case is not supported by this implementation.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="bc2_8h.html#af2366626addc8e36f6176e3fca2c549d">BSP430_BC2_XT2_IS_FAULTED_NI()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8c2244a0754bddf775d1c4a0f79b8c82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_MODULE_BC2&#160;&#160;&#160;defined(__MSP430_HAS_BC2__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined on inclusion of &lt;<a class="el" href="bc2_8h.html" title="Hardware presentation/abstraction for Basic Clock Module+ (BC2). ">bsp430/periph/bc2.h</a>&gt;. The value evaluates to true if the target MCU supports the Basic Clock Module+, and false if it does not.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>

</div>
</div>
<a class="anchor" id="a4cfe6f32391ffebb454ac32609505a80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_BC2_TRIM_TO_MCLK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to request that ulBSP430bc2TrimToMCLK_ni() be made available.</p>
<p>Because implementation of this function depends on <a class="el" href="group__grp__timer__ccaclk.html#gafaa65b8c2e6832c51e73ab8c929af856">BSP430_TIMER_CCACLK</a>, setting this option causes &lt;<a class="el" href="bsp430__config_8h.html" title="BSP430 application and platform configuration directives. ">bsp430/platform/bsp430_config.h</a>&gt; to default <a class="el" href="group__grp__config__functional.html#ga21a5d22e80e4fecc6242b1530632ba85">configBSP430_TIMER_CCACLK</a> to true.</p>
<p>This value represents an application or system request for the feature; availability of the feature must be tested using <a class="el" href="bc2_8h.html#a9263146121baf3bb2cfe973ef4fde8da">BSP430_BC2_TRIM_TO_MCLK</a> before attempting to invoke the function.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that restricts its use to C preprocessor conditional directives. </dd></dl>
<dl class="section user"><dt>Affects:</dt><dd><a class="el" href="bc2_8h.html#a9263146121baf3bb2cfe973ef4fde8da">BSP430_BC2_TRIM_TO_MCLK</a> </dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="group__grp__timer__ccaclk.html#gafaa65b8c2e6832c51e73ab8c929af856">BSP430_TIMER_CCACLK</a> </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a761fecab60615a591909cef0bc74121b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iBSP430bc2TrimToMCLK_ni </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>mclk_Hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adjust the DCO as necessary to reach the requested MCLK speed</p>
<p>nThe BC2 peripheral supports only a small number of calibrated DCO clock frequencies, and it is not uncommon for them to be off by a significant amount for the cheaper ValueLine MCUs. If an ACLK source at a trusted rate is available, the MCU can implement a loop to converge on a DCO configuration that supports a specific requested clock speed.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if the requested speed could be reached, -1 if an error occurred. Potential errors are inability to access <a class="el" href="group__grp__timer__ccaclk.html#gaaf21a38de49b7d31cba4066c0ce80720">BSP430_TIMER_CCACLK_PERIPH_HANDLE</a>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The accuracy of the resulting frequency is proportional to the accuracy of the returned value of <a class="el" href="clock_8h.html#a50f0e84be872123b2fae87995681a600">ulBSP430clockACLK_Hz_ni()</a>. If ACLK derives from VLOCLK, that estimate may be off by several percent, which will generally result in serial errors if SMCLK is used to generate a baud rate clock. You may wish to check <a class="el" href="bc2_8h.html#a7a0cdc169aac90a5c877b3ca09a4608d">BSP430_CLOCK_LFXT1_IS_FAULTED_NI()</a> prior to invoking this, as is done by <a class="el" href="clock_8h.html#a538f01f39cf54267229fe04877d3185e">ulBSP430clockConfigureMCLK_ni()</a> for this peripheral.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="bc2_8h.html#a9263146121baf3bb2cfe973ef4fde8da">BSP430_BC2_TRIM_TO_MCLK</a>, <a class="el" href="group__grp__timer__ccaclk.html#gafaa65b8c2e6832c51e73ab8c929af856">BSP430_TIMER_CCACLK</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 15 2014 11:27:13 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
